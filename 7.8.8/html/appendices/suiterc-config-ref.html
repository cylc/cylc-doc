
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>15.1. Suite.rc Reference &#8212; The Cylc Suite Engine 7.8.8 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <link rel="shortcut icon" href="../_static/cylc-favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="15.2. Global (Site, User) Config File Reference" href="site-user-config-ref.html" />
    <link rel="prev" title="15. Appendices" href="appendices-master.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="site-user-config-ref.html" title="15.2. Global (Site, User) Config File Reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="appendices-master.html" title="15. Appendices"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">The Cylc Suite Engine 7.8.8 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="appendices-master.html" accesskey="U">15. Appendices</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="suite-rc-reference">
<span id="suitercreference"></span><h1>15.1. Suite.rc Reference<a class="headerlink" href="#suite-rc-reference" title="Permalink to this headline">¶</a></h1>
<p>This appendix defines all legal suite configuration items.
Embedded Jinja2 code (see <a class="reference internal" href="../suite-config.html#jinja"><span class="std std-ref">Jinja2</span></a>) must process to a valid
raw suite.rc file. See also <a class="reference internal" href="../suite-config.html#suitercfile"><span class="std std-ref">Suite.rc File Overview</span></a> for a descriptive
overview of suite.rc files, including syntax (<a class="reference internal" href="../suite-config.html#syntax"><span class="std std-ref">Syntax</span></a>).</p>
<div class="section" id="top-level-items">
<h2>15.1.1. Top Level Items<a class="headerlink" href="#top-level-items" title="Permalink to this headline">¶</a></h2>
<p>The only top level configuration items at present are the suite title
and description.</p>
</div>
<div class="section" id="meta">
<h2>15.1.2. [meta]<a class="headerlink" href="#meta" title="Permalink to this headline">¶</a></h2>
<p>Section containing metadata items for this suite. Several items
(title, description, URL) are pre-defined and are used by the GUI. Others
can be user-defined and passed to suite event handlers to be interpreted
according to your needs. For example, the value of a “suite-priority” item
could determine how an event handler responds to failure events.</p>
<div class="section" id="meta-title">
<h3>15.1.2.1. [meta] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> title<a class="headerlink" href="#meta-title" title="Permalink to this headline">¶</a></h3>
<p>A single line description of the suite. It is displayed in the GUI
“Open Another Suite” window and can be retrieved at run time with the
<code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">show</span></code> command.</p>
<ul class="simple">
<li><em>type</em>: single line string</li>
<li><em>default</em>: (none)</li>
</ul>
</div>
<div class="section" id="meta-description">
<h3>15.1.2.2. [meta] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> description<a class="headerlink" href="#meta-description" title="Permalink to this headline">¶</a></h3>
<p>A multi-line description of the suite. It can be retrieved at run time
with the <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">show</span></code> command.</p>
<ul class="simple">
<li><em>type</em>: multi-line string</li>
<li><em>default</em>: (none)</li>
</ul>
</div>
<div class="section" id="meta-url">
<span id="suiteurl"></span><h3>15.1.2.3. [meta] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> URL<a class="headerlink" href="#meta-url" title="Permalink to this headline">¶</a></h3>
<p>A web URL to suite documentation.  If present it can be browsed with the
<code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">doc</span></code> command, or from the gcylc Suite menu. The string
template <code class="docutils literal notranslate"><span class="pre">%(suite_name)s</span></code> will be replaced with the actual suite
name. See also <a class="reference internal" href="#taskurl"><span class="std std-ref">[runtime] -&gt; [[__NAME__]] -&gt; [[[meta]]] -&gt; URL</span></a>.</p>
<ul class="simple">
<li><em>type</em>: string (URL)</li>
<li><em>default</em>: (none)</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">http://my-site.com/suites/%(suite_name)s/index.html</span></code></li>
</ul>
</div>
<div class="section" id="meta-group">
<h3>15.1.2.4. [meta] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> group<a class="headerlink" href="#meta-group" title="Permalink to this headline">¶</a></h3>
<p>A group name for a suite. In the gscan GUI, suites with the same group name can
be collapsed into a single state summary when the “group” column is displayed.</p>
<ul class="simple">
<li><em>type</em>: single line string</li>
<li><em>default</em>: (none)</li>
</ul>
</div>
<div class="section" id="meta-many">
<h3>15.1.2.5. [meta] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> __MANY__<a class="headerlink" href="#meta-many" title="Permalink to this headline">¶</a></h3>
<p>Replace <code class="docutils literal notranslate"><span class="pre">__MANY__</span></code> with any user-defined metadata item. These, like
title, URL, etc. can be passed to suite event handlers to be interpreted
according to your needs. For example, “suite-priority”.</p>
<ul>
<li><p class="first"><em>type</em>: String or integer</p>
</li>
<li><p class="first"><em>default</em>: (none)</p>
</li>
<li><p class="first"><em>example</em>:</p>
<blockquote>
<div><div class="highlight-cylc notranslate"><div class="highlight"><pre><span></span><span class="nt">[meta]</span>
    <span class="nv">suite-priority </span><span class="o">=</span><span class="s"> high</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="cylc">
<h2>15.1.3. [cylc]<a class="headerlink" href="#cylc" title="Permalink to this headline">¶</a></h2>
<p>This section is for configuration that is not specifically task-related.</p>
<div class="section" id="cylc-required-run-mode">
<h3>15.1.3.1. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> required run mode<a class="headerlink" href="#cylc-required-run-mode" title="Permalink to this headline">¶</a></h3>
<p>If this item is set cylc will abort if the suite is not started in the
specified mode. This can be used for demo suites that have to be
run in simulation mode, for example, because they have been taken out of
their normal operational context; or to prevent accidental submission of
expensive real tasks during suite development.</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>legal values</em>: live, dummy, dummy-local, simulation</li>
<li><em>default</em>: None</li>
</ul>
</div>
<div class="section" id="cylc-utc-mode">
<span id="utc-mode"></span><h3>15.1.3.2. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> UTC mode<a class="headerlink" href="#cylc-utc-mode" title="Permalink to this headline">¶</a></h3>
<p>Cylc runs off the suite host’s system clock by default. This item allows
you to run the suite in UTC even if the system clock is set to local time.
Clock-trigger tasks will trigger when the current UTC time is equal to
their cycle point date-time plus offset; other time values used, reported, or
logged by the suite server program will usually also be in UTC. The default for
this can be set at the site level (see <a class="reference internal" href="site-user-config-ref.html#siteutcmode"><span class="std std-ref">[cylc] -&gt; UTC mode</span></a>).</p>
<ul class="simple">
<li><em>type</em>: boolean</li>
<li><em>default</em>: False, unless overridden at site level.</li>
</ul>
</div>
<div class="section" id="cylc-cycle-point-format">
<span id="cycle-point-format"></span><h3>15.1.3.3. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> cycle point format<a class="headerlink" href="#cylc-cycle-point-format" title="Permalink to this headline">¶</a></h3>
<p>To just alter the timezone used in the date-time cycle point format, see
<a class="reference internal" href="#cycle-point-time-zone"><span class="std std-ref">[cylc] -&gt; cycle point time zone</span></a>. To just alter the number of expanded year digits
(for years below 0 or above 9999), see
<a class="reference internal" href="#cycle-point-num-expanded-year-digits"><span class="std std-ref">[cylc] -&gt; cycle point num expanded year digits</span></a>.</p>
<p>Cylc usually uses a <code class="docutils literal notranslate"><span class="pre">CCYYMMDDThhmmZ</span></code> (<code class="docutils literal notranslate"><span class="pre">Z</span></code> in the special
case of UTC) or <code class="docutils literal notranslate"><span class="pre">CCYYMMDDThhmm+hhmm</span></code> format (<code class="docutils literal notranslate"><span class="pre">+</span></code> standing
for <code class="docutils literal notranslate"><span class="pre">+</span></code> or <code class="docutils literal notranslate"><span class="pre">-</span></code> here) for writing down date-time cycle
points, which follows one of the basic formats outlined in the ISO 8601
standard. For example, a cycle point on the 3rd of February 2001 at 4:50 in
the morning, UTC (+0000 timezone), would be written
<code class="docutils literal notranslate"><span class="pre">20010203T0450Z</span></code>. Similarly, for the 3rd of February 2001 at
4:50 in the morning, +1300 timezone, cylc would write
<code class="docutils literal notranslate"><span class="pre">20010203T0450+1300</span></code>.</p>
<p>You may use the isodatetime library’s syntax to write dates and times in ISO
8601 formats - <code class="docutils literal notranslate"><span class="pre">CC</span></code> for century, <code class="docutils literal notranslate"><span class="pre">YY</span></code> for decade and
decadal year, <code class="docutils literal notranslate"><span class="pre">+X</span></code> for expanded year digits and their positive or
negative sign, thereafter following the ISO 8601 standard example notation
except for fractional digits, which are represented as <code class="docutils literal notranslate"><span class="pre">,ii</span></code> for
<code class="docutils literal notranslate"><span class="pre">hh</span></code>, <code class="docutils literal notranslate"><span class="pre">,nn</span></code> for <code class="docutils literal notranslate"><span class="pre">mm</span></code>, etc. For example, to write
date-times as week dates with fractional hours, set cycle point format to
<code class="docutils literal notranslate"><span class="pre">CCYYWwwDThh,iiZ</span></code> e.g.  <code class="docutils literal notranslate"><span class="pre">1987W041T08,5Z</span></code> for 08:30 UTC on
Monday on the fourth ISO week of 1987.</p>
<p>You can also use a subset of the strptime/strftime POSIX standard - supported
tokens are <code class="docutils literal notranslate"><span class="pre">%F</span></code>, <code class="docutils literal notranslate"><span class="pre">%H</span></code>, <code class="docutils literal notranslate"><span class="pre">%M</span></code>, <code class="docutils literal notranslate"><span class="pre">%S</span></code>,
<code class="docutils literal notranslate"><span class="pre">%Y</span></code>, <code class="docutils literal notranslate"><span class="pre">%d</span></code>, <code class="docutils literal notranslate"><span class="pre">%j</span></code>, <code class="docutils literal notranslate"><span class="pre">%m</span></code>, <code class="docutils literal notranslate"><span class="pre">%s</span></code>, <code class="docutils literal notranslate"><span class="pre">%z</span></code>.</p>
<p>The ISO8601 extended date-time format can be used
(<code class="docutils literal notranslate"><span class="pre">%Y-%m-%dT%H:%M</span></code>) but
note that the “-” and “:” characters end up in job log directory paths.</p>
<p>The pre cylc-6 legacy 10-digit date-time format YYYYMMDDHH is not ISO8601
compliant and can no longer be used as the cycle point format. For job
scripts that still require the old format, use the
<code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">cyclepoint</span></code> utility to translate the ISO8601 cycle point
inside job scripts, e.g.:</p>
<div class="highlight-cylc notranslate"><div class="highlight"><pre><span></span><span class="nt">[runtime]</span>
    <span class="nt">[[root]]</span>
        <span class="nt">[[[environment]]]</span>
            <span class="nv">CYCLE_TIME </span><span class="o">=</span><span class="s"> $(cylc cyclepoint --template=%Y%m%d%H)</span>
</pre></div>
</div>
</div>
<div class="section" id="cylc-cycle-point-num-expanded-year-digits">
<span id="cycle-point-num-expanded-year-digits"></span><h3>15.1.3.4. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> cycle point num expanded year digits<a class="headerlink" href="#cylc-cycle-point-num-expanded-year-digits" title="Permalink to this headline">¶</a></h3>
<p>For years below 0 or above 9999, the ISO 8601 standard specifies that an
extra number of year digits and a sign should be used. This extra number needs
to be written down somewhere (here).</p>
<p>For example, if this extra number is set to 2, 00Z on the 1st of January in
the year 10040 will be represented as <code class="docutils literal notranslate"><span class="pre">+0100400101T0000Z</span></code> (2 extra
year digits used). With this number set to 3, 06Z on the 4th of May 1985 would
be written as <code class="docutils literal notranslate"><span class="pre">+00019850504T0600Z</span></code>.</p>
<p>This number defaults to 0 (no sign or extra digits used).</p>
</div>
<div class="section" id="cylc-cycle-point-time-zone">
<span id="cycle-point-time-zone"></span><h3>15.1.3.5. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> cycle point time zone<a class="headerlink" href="#cylc-cycle-point-time-zone" title="Permalink to this headline">¶</a></h3>
<p>If you set UTC mode to True (<a class="reference internal" href="#utc-mode"><span class="std std-ref">[cylc] -&gt; UTC mode</span></a>) then this will default to
<code class="docutils literal notranslate"><span class="pre">Z</span></code>. If you use a custom cycle point format
(<a class="reference internal" href="#cycle-point-format"><span class="std std-ref">[cylc] -&gt; cycle point format</span></a>), you should specify the timezone choice (or null
timezone choice) here as well.</p>
<p>You may set your own time zone choice here, which will be used for all
date-time cycle point dumping. Time zones should be expressed as ISO 8601 time
zone offsets from UTC, such as <code class="docutils literal notranslate"><span class="pre">+13</span></code>, <code class="docutils literal notranslate"><span class="pre">+1300</span></code>,
<code class="docutils literal notranslate"><span class="pre">-0500</span></code> or <code class="docutils literal notranslate"><span class="pre">+0645</span></code>, with <code class="docutils literal notranslate"><span class="pre">Z</span></code> representing the
special <code class="docutils literal notranslate"><span class="pre">+0000</span></code> case. Cycle points will be converted to the time
zone you give and will be represented with this string at the end.</p>
<p>Cycle points that are input without time zones (e.g. as an initial cycle
point
setting) will use this time zone if set. If this isn’t set (and UTC mode is
also not set), then they will default to the current local time zone.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The ISO standard also allows writing the hour and minute separated
by a “:” (e.g. <code class="docutils literal notranslate"><span class="pre">+13:00</span></code>) - however, this is not recommended, given
that the time zone is used as part of task output filenames.</p>
</div>
</div>
<div class="section" id="cylc-abort-if-any-task-fails">
<h3>15.1.3.6. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> abort if any task fails<a class="headerlink" href="#cylc-abort-if-any-task-fails" title="Permalink to this headline">¶</a></h3>
<p>Cylc does not normally abort if tasks fail, but if this item is turned
on it will abort with exit status 1 if any task fails.</p>
<ul class="simple">
<li><em>type</em>: boolean</li>
<li><em>default</em>: False</li>
</ul>
</div>
<div class="section" id="cylc-health-check-interval">
<span id="health-check-interval"></span><h3>15.1.3.7. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> health check interval<a class="headerlink" href="#cylc-health-check-interval" title="Permalink to this headline">¶</a></h3>
<p>Specify the time interval on which a running cylc suite will check that its run
directory exists and that its contact file contains the expected information.
If not, the suite will shut itself down automatically.</p>
<ul class="simple">
<li><em>type</em>: ISO 8601 duration/interval representation (e.g.
<code class="docutils literal notranslate"><span class="pre">PT5M</span></code>, 5 minutes (note: by contrast, <code class="docutils literal notranslate"><span class="pre">P5M</span></code> means 5
months, so remember the <code class="docutils literal notranslate"><span class="pre">T</span></code>!)).</li>
<li><em>default</em>: PT10M</li>
</ul>
</div>
<div class="section" id="cylc-task-event-mail-interval">
<span id="task-event-mail-interval"></span><h3>15.1.3.8. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> task event mail interval<a class="headerlink" href="#cylc-task-event-mail-interval" title="Permalink to this headline">¶</a></h3>
<p>Group together all the task event mail notifications into a single email within
a given interval. This is useful to prevent flooding users’ mail boxes when
many task events occur within a short period of time.</p>
<ul class="simple">
<li><em>type</em>: ISO 8601 duration/interval representation (e.g.
<code class="docutils literal notranslate"><span class="pre">PT10S</span></code>, 10 seconds, or <code class="docutils literal notranslate"><span class="pre">PT1M</span></code>, 1 minute).</li>
<li><em>default</em>: PT5M</li>
</ul>
</div>
<div class="section" id="cylc-disable-automatic-shutdown">
<h3>15.1.3.9. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> disable automatic shutdown<a class="headerlink" href="#cylc-disable-automatic-shutdown" title="Permalink to this headline">¶</a></h3>
<p>This has the same effect as the <code class="docutils literal notranslate"><span class="pre">--no-auto-shutdown</span></code> flag for
the suite run commands: it prevents the suite server program from shutting down
normally when all tasks have finished (a suite timeout can still be used to
stop the daemon after a period of inactivity, however).  This option can
make it easier to re-trigger tasks manually near the end of a suite run,
during suite development and debugging.</p>
<ul class="simple">
<li><em>type</em>: boolean</li>
<li><em>default</em>: False</li>
</ul>
</div>
<div class="section" id="cylc-log-resolved-dependencies">
<h3>15.1.3.10. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> log resolved dependencies<a class="headerlink" href="#cylc-log-resolved-dependencies" title="Permalink to this headline">¶</a></h3>
<p>If this is turned on cylc will write the resolved dependencies of each
task to the suite log as it becomes ready to run (a list of the IDs of
the tasks that actually satisfied its prerequisites at run time). Mainly
used for cylc testing and development.</p>
<ul class="simple">
<li><em>type</em>: boolean</li>
<li><em>default</em>: False</li>
</ul>
</div>
<div class="section" id="cylc-parameters">
<h3>15.1.3.11. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[parameters]]<a class="headerlink" href="#cylc-parameters" title="Permalink to this headline">¶</a></h3>
<p>Define parameter values here for use in expanding <em>parameterized tasks</em> -
see <a class="reference internal" href="../suite-config.html#parameterized-tasks-label"><span class="std std-ref">Parameterized Tasks</span></a>.</p>
<ul class="simple">
<li><em>type</em>: list of strings, or an integer range
<code class="docutils literal notranslate"><span class="pre">LOWER..UPPER..STEP</span></code> (two dots, inclusive bounds, “STEP” optional)</li>
<li><em>default</em>: (none)</li>
<li><em>examples</em>:
- <code class="docutils literal notranslate"><span class="pre">run</span> <span class="pre">=</span> <span class="pre">control,</span> <span class="pre">test1,</span> <span class="pre">test2</span></code>
- <code class="docutils literal notranslate"><span class="pre">mem</span> <span class="pre">=</span> <span class="pre">1..5</span></code>  (equivalent to <code class="docutils literal notranslate"><span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4,</span> <span class="pre">5</span></code>).
- <code class="docutils literal notranslate"><span class="pre">mem</span> <span class="pre">=</span> <span class="pre">-11..-7..2</span></code>  (equivalent to <code class="docutils literal notranslate"><span class="pre">-11,</span> <span class="pre">-9,</span> <span class="pre">-7</span></code>).</li>
</ul>
</div>
<div class="section" id="cylc-parameter-templates">
<span id="refparametertemplates"></span><h3>15.1.3.12. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[parameter templates]]<a class="headerlink" href="#cylc-parameter-templates" title="Permalink to this headline">¶</a></h3>
<p>Parameterized task names (see previous item, and
<a class="reference internal" href="../suite-config.html#parameterized-tasks-label"><span class="std std-ref">Parameterized Tasks</span></a>) are expanded, for each parameter value,
using string templates.  You can assign templates to parameter names here,
to override the default templates.</p>
<ul class="simple">
<li><em>type</em>: a Python-style string template</li>
<li><em>default} for integer parameters</em> <code class="docutils literal notranslate"><span class="pre">p</span></code>:
<code class="docutils literal notranslate"><span class="pre">_p%(p)0Nd</span></code>
where <code class="docutils literal notranslate"><span class="pre">N</span></code> is the number of digits of the maximum integer value,
e.g. <code class="docutils literal notranslate"><span class="pre">foo&lt;run&gt;</span></code> becomes <code class="docutils literal notranslate"><span class="pre">foo_run3</span></code> for <code class="docutils literal notranslate"><span class="pre">run</span></code> value <code class="docutils literal notranslate"><span class="pre">3</span></code>.</li>
<li><em>default for non-integer parameters</em> <code class="docutils literal notranslate"><span class="pre">p</span></code>:
<code class="docutils literal notranslate"><span class="pre">_%(p)s</span></code> e.g. <code class="docutils literal notranslate"><span class="pre">foo&lt;run&gt;</span></code> becomes <code class="docutils literal notranslate"><span class="pre">foo_top</span></code> for
<code class="docutils literal notranslate"><span class="pre">run</span></code> value <code class="docutils literal notranslate"><span class="pre">top</span></code>.</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">run</span> <span class="pre">=</span> <span class="pre">-R%(run)s</span></code> e.g. <code class="docutils literal notranslate"><span class="pre">foo&lt;run&gt;</span></code> becomes <code class="docutils literal notranslate"><span class="pre">foo-R3</span></code> for
<code class="docutils literal notranslate"><span class="pre">run</span></code> value <code class="docutils literal notranslate"><span class="pre">3</span></code>.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The values of a parameter named <code class="docutils literal notranslate"><span class="pre">p</span></code> are substituted for <code class="docutils literal notranslate"><span class="pre">%(p)s</span></code>.
In <code class="docutils literal notranslate"><span class="pre">_run%(run)s</span></code> the first “run” is a string literal, and the second
gets substituted with each value of the parameter.</p>
</div>
</div>
<div class="section" id="cylc-events">
<span id="suiteeventhandling"></span><h3>15.1.3.13. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[events]]<a class="headerlink" href="#cylc-events" title="Permalink to this headline">¶</a></h3>
<p>Cylc has internal “hooks” to which you can attach handlers that are
called by the suite server program whenever certain events occur. This section
configures suite event hooks; see <a class="reference internal" href="#taskeventhandling"><span class="std std-ref">[runtime] -&gt; [[__NAME__]] -&gt; [[[events]]]</span></a> for
task event hooks.</p>
<p>Event handler commands can send an email or an SMS, call a pager, intervene in
the operation of their own suite, or whatever.
They can be held in the suite bin directory, otherwise it is up to you
to ensure their location is in <code class="docutils literal notranslate"><span class="pre">$PATH</span></code> (in the shell in which
cylc runs, on the suite host). The commands should require
very little resource to run and should return quickly.</p>
<p>Each event handler can be specified as a list of command lines or command
line templates.</p>
<p>A command line template may have any or all of these patterns which will be
substituted with actual values:</p>
<ul class="simple">
<li>%(event)s: event name (see below)</li>
<li>%(suite)s: suite name</li>
<li>%(suite_url)s: suite URL</li>
<li>%(suite_uuid)s: suite UUID string</li>
<li>%(message)s: event message, if any</li>
<li>any suite [meta] item, e.g.:
- %(title)s: suite title
- %(importance)s: example custom suite metadata</li>
</ul>
<p>Otherwise the command line will be called with the following default
arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;suite-event-handler&gt; %(event)s %(suite)s %(message)s
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Substitution patterns should not be quoted in the template strings.
This is done automatically where required.</p>
</div>
<p>Additional information can be passed to event handlers via
[cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[environment]].</p>
<div class="section" id="cylc-events-event-handler">
<h4>15.1.3.13.1. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[events]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> EVENT handler<a class="headerlink" href="#cylc-events-event-handler" title="Permalink to this headline">¶</a></h4>
<p>A comma-separated list of one or more event handlers to call when one of the
following EVENTs occurs:</p>
<ul class="simple">
<li><strong>startup</strong>  - the suite has started running</li>
<li><strong>shutdown</strong> - the suite is shutting down</li>
<li><strong>aborted</strong> - the suite is shutting down due to unexpected/unrecoverable error</li>
<li><strong>timeout</strong>  - the suite has timed out</li>
<li><strong>stalled</strong> - the suite has stalled</li>
<li><strong>inactivity</strong> - the suite is inactive</li>
</ul>
<p>Default values for these can be set at the site level via the siterc file
(see <a class="reference internal" href="site-user-config-ref.html#sitecylchooks"><span class="std std-ref">[cylc] -&gt; [[events]]</span></a>).</p>
<p>Item details:</p>
<ul class="simple">
<li><em>type</em>: string (event handler script name)</li>
<li><em>default</em>: None, unless defined at the site level.</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">startup</span> <span class="pre">handler</span> <span class="pre">=</span> <span class="pre">my-handler.sh</span></code></li>
</ul>
</div>
<div class="section" id="cylc-events-handlers">
<h4>15.1.3.13.2. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[events]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> handlers<a class="headerlink" href="#cylc-events-handlers" title="Permalink to this headline">¶</a></h4>
<p>Specify the general event handlers as a list of command lines or command line
templates.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of strings (event handler command line or
command line templates).</li>
<li><em>default</em>: (none)</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">handlers</span> <span class="pre">=</span> <span class="pre">my-handler.sh</span></code></li>
</ul>
</div>
<div class="section" id="cylc-events-handler-events">
<h4>15.1.3.13.3. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[events]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> handler events<a class="headerlink" href="#cylc-events-handler-events" title="Permalink to this headline">¶</a></h4>
<p>Specify the events for which the general event handlers should be invoked.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of events</li>
<li><em>default</em>: (none)</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">handler</span> <span class="pre">events</span> <span class="pre">=</span> <span class="pre">timeout,</span> <span class="pre">shutdown</span></code></li>
</ul>
</div>
<div class="section" id="cylc-events-mail-events">
<h4>15.1.3.13.4. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[events]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> mail events<a class="headerlink" href="#cylc-events-mail-events" title="Permalink to this headline">¶</a></h4>
<p>Specify the suite events for which notification emails should be sent.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of events</li>
<li><em>default</em>: (none)</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">mail</span> <span class="pre">events</span> <span class="pre">=</span> <span class="pre">startup,</span> <span class="pre">shutdown,</span> <span class="pre">timeout</span></code></li>
</ul>
</div>
<div class="section" id="cylc-events-mail-footer">
<h4>15.1.3.13.5. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[events]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> mail footer<a class="headerlink" href="#cylc-events-mail-footer" title="Permalink to this headline">¶</a></h4>
<p>Specify a string or string template to insert to footers of notification emails
for both suite events and task events.</p>
<p>A template string may have any or all of these patterns which will be
substituted with actual values:</p>
<ul class="simple">
<li>%(host)s: suite host name</li>
<li>%(port)s: suite port number</li>
<li>%(owner)s: suite owner name</li>
<li>%(suite)s: suite name</li>
<li><em>type</em>:</li>
<li><em>default</em>: (none)</li>
<li><em>example</em>:
<code class="docutils literal notranslate"><span class="pre">mail</span> <span class="pre">footer</span> <span class="pre">=</span> <span class="pre">see:</span> <span class="pre">http://localhost/%(owner)s/notes-on/%(suite)s/</span></code></li>
</ul>
</div>
<div class="section" id="cylc-events-mail-from">
<h4>15.1.3.13.6. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[events]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> mail from<a class="headerlink" href="#cylc-events-mail-from" title="Permalink to this headline">¶</a></h4>
<p>Specify an alternate <code class="docutils literal notranslate"><span class="pre">from:</span></code> email address for suite event notifications.</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>default</em>: None, (<a class="reference external" href="mailto:notifications&#37;&#52;&#48;HOSTNAME">notifications<span>&#64;</span>HOSTNAME</a>)</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">mail</span> <span class="pre">from</span> <span class="pre">=</span> <span class="pre">no-reply&#64;your-org</span></code></li>
</ul>
</div>
<div class="section" id="cylc-events-mail-smtp">
<h4>15.1.3.13.7. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[events]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> mail smtp<a class="headerlink" href="#cylc-events-mail-smtp" title="Permalink to this headline">¶</a></h4>
<p>Specify the SMTP server for sending suite event email notifications.</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>default</em>: None, (localhost:25)</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">mail</span> <span class="pre">smtp</span> <span class="pre">=</span> <span class="pre">smtp.yourorg</span></code></li>
</ul>
</div>
<div class="section" id="cylc-events-mail-to">
<h4>15.1.3.13.8. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[events]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> mail to<a class="headerlink" href="#cylc-events-mail-to" title="Permalink to this headline">¶</a></h4>
<p>A list of email addresses to send suite event notifications. The list can be
anything accepted by the <code class="docutils literal notranslate"><span class="pre">mail</span></code> command.</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>default</em>: None, (<a class="reference external" href="mailto:USER&#37;&#52;&#48;HOSTNAME">USER<span>&#64;</span>HOSTNAME</a>)</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">mail</span> <span class="pre">to</span> <span class="pre">=</span> <span class="pre">your.colleague</span></code></li>
</ul>
</div>
<div class="section" id="cylc-events-timeout">
<h4>15.1.3.13.9. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[events]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> timeout<a class="headerlink" href="#cylc-events-timeout" title="Permalink to this headline">¶</a></h4>
<p>If a timeout is set and the timeout event is handled, the timeout event
handler(s) will be called if the suite stays in a stalled state for some period
of time. The timer is set initially at suite start up. It is possible to set a
default for this at the site level (see <a class="reference internal" href="site-user-config-ref.html#sitecylchooks"><span class="std std-ref">[cylc] -&gt; [[events]]</span></a>).</p>
<ul class="simple">
<li><em>type</em>: ISO 8601 duration/interval representation (e.g.
<code class="docutils literal notranslate"><span class="pre">PT5S</span></code>, 5 seconds, <code class="docutils literal notranslate"><span class="pre">PT1S</span></code>, 1 second) - minimum 0 seconds.</li>
<li><em>default</em>: (none), unless set at the site level.</li>
</ul>
</div>
<div class="section" id="cylc-events-inactivity">
<h4>15.1.3.13.10. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[events]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> inactivity<a class="headerlink" href="#cylc-events-inactivity" title="Permalink to this headline">¶</a></h4>
<p>If inactivity is set and the inactivity event is handled, the inactivity event
handler(s) will be called if there is no activity in the suite for some period
of time. The timer is set initially at suite start up. It is possible to set a
default for this at the site level (see <a class="reference internal" href="site-user-config-ref.html#sitecylchooks"><span class="std std-ref">[cylc] -&gt; [[events]]</span></a>).</p>
<ul class="simple">
<li><em>type</em>: ISO 8601 duration/interval representation (e.g.
<code class="docutils literal notranslate"><span class="pre">PT5S</span></code>, 5 seconds, <code class="docutils literal notranslate"><span class="pre">PT1S</span></code>, 1 second) - minimum 0 seconds.</li>
<li><em>default</em>: (none), unless set at the site level.</li>
</ul>
</div>
<div class="section" id="cylc-events-abort-on-stalled">
<h4>15.1.3.13.11. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[events]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> abort on stalled<a class="headerlink" href="#cylc-events-abort-on-stalled" title="Permalink to this headline">¶</a></h4>
<p>If this is set to True it will cause the suite to abort with error status
if it stalls. A suite is considered “stalled” if there are no active,
queued or submitting tasks or tasks waiting for clock triggers to be met. It is
possible to set a default for this at the site level
(see <a class="reference internal" href="site-user-config-ref.html#sitecylchooks"><span class="std std-ref">[cylc] -&gt; [[events]]</span></a>).</p>
<ul class="simple">
<li><em>type</em>: boolean</li>
<li><em>default</em>: False, unless set at the site level.</li>
</ul>
</div>
<div class="section" id="cylc-events-abort-on-timeout">
<h4>15.1.3.13.12. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[events]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> abort on timeout<a class="headerlink" href="#cylc-events-abort-on-timeout" title="Permalink to this headline">¶</a></h4>
<p>If a suite timer is set (above) this will cause the suite to abort with
error status if the suite times out while still running. It is possible to set
a default for this at the site level (see <a class="reference internal" href="site-user-config-ref.html#sitecylchooks"><span class="std std-ref">[cylc] -&gt; [[events]]</span></a>).</p>
<ul class="simple">
<li><em>type</em>: boolean</li>
<li><em>default</em>: False, unless set at the site level.</li>
</ul>
</div>
<div class="section" id="cylc-events-abort-on-inactivity">
<h4>15.1.3.13.13. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[events]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> abort on inactivity<a class="headerlink" href="#cylc-events-abort-on-inactivity" title="Permalink to this headline">¶</a></h4>
<p>If a suite inactivity timer is set (above) this will cause the suite to abort
with error status if the suite is inactive for some period while still running.
It is possible to set a default for this at the site level
(see <a class="reference internal" href="site-user-config-ref.html#sitecylchooks"><span class="std std-ref">[cylc] -&gt; [[events]]</span></a>).</p>
<ul class="simple">
<li><em>type</em>: boolean</li>
<li><em>default</em>: False, unless set at the site level.</li>
</ul>
</div>
<div class="section" id="cylc-events-abort-if-event-handler-fails">
<h4>15.1.3.13.14. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[events]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> abort if EVENT handler fails<a class="headerlink" href="#cylc-events-abort-if-event-handler-fails" title="Permalink to this headline">¶</a></h4>
<p>Cylc does not normally care whether an event handler succeeds or fails,
but if this is turned on the EVENT handler will be executed in the
foreground (which will block the suite while it is running) and the
suite will abort if the handler fails.</p>
<ul class="simple">
<li><em>type</em>: boolean</li>
<li><em>default</em>: False</li>
</ul>
</div>
<div class="section" id="cylc-environment">
<h4>15.1.3.13.15. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[environment]]<a class="headerlink" href="#cylc-environment" title="Permalink to this headline">¶</a></h4>
<p>Environment variables defined in this section are passed to suite and
task event handlers.</p>
<ul>
<li><p class="first">These variables are not passed to tasks - use task runtime
variables for that. Similarly, task runtime variables are not
available to event handlers - which are executed by the suite server
program, (not by running tasks) in response to task events.</p>
</li>
<li><p class="first">Cylc-defined environment variables such as
<code class="docutils literal notranslate"><span class="pre">$CYLC_SUITE_RUN_DIR</span></code> are not passed to task event
handlers by default, but you can make them available by
extracting them to the cylc environment like this:</p>
<div class="highlight-cylc notranslate"><div class="highlight"><pre><span></span><span class="nt">[cylc]</span>
    <span class="nt">[[environment]]</span>
        <span class="nv">CYLC_SUITE_RUN_DIR </span><span class="o">=</span><span class="s"> $CYLC_SUITE_RUN_DIR</span>
</pre></div>
</div>
</li>
<li><p class="first">These variables - unlike task execution environment variables
which are written to job scripts and interpreted by the shell at
task run time - are not interpreted by the shell prior to use
so shell variable expansion expressions cannot be used here.</p>
</li>
</ul>
</div>
<div class="section" id="cylc-environment-variable">
<h4>15.1.3.13.16. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[environment]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> __VARIABLE__<a class="headerlink" href="#cylc-environment-variable" title="Permalink to this headline">¶</a></h4>
<p>Replace <code class="docutils literal notranslate"><span class="pre">__VARIABLE__</span></code> with any number of environment variable
assignment expressions.
Values may refer to other local environment variables (order of
definition is preserved) and are not evaluated or manipulated by
cylc, so any variable assignment expression that is legal in the
shell in which cylc is running can be used (but see the warning
above on variable expansions, which will not be evaluated).
White space around the <code class="docutils literal notranslate"><span class="pre">=</span></code> is allowed (as far as cylc’s file
parser is concerned these are just suite configuration items).</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>default</em>: (none)</li>
<li><em>examples</em>: <code class="docutils literal notranslate"><span class="pre">FOO</span> <span class="pre">=</span> <span class="pre">$HOME/foo</span></code></li>
</ul>
</div>
<div class="section" id="cylc-reference-test">
<span id="referencetestconfig"></span><h4>15.1.3.13.17. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[reference test]]<a class="headerlink" href="#cylc-reference-test" title="Permalink to this headline">¶</a></h4>
<p>Reference tests are finite-duration suite runs that abort with non-zero
exit status if cylc fails, if any task fails, if the suite times
out, or if a shutdown event handler that (by default) compares the test
run with a reference run reports failure. See <a class="reference internal" href="../running-suites.html#autoreftests"><span class="std std-ref">Automated Reference Test Suites</span></a>.</p>
</div>
<div class="section" id="cylc-reference-test-suite-shutdown-event-handler">
<h4>15.1.3.13.18. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[reference test]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> suite shutdown event handler<a class="headerlink" href="#cylc-reference-test-suite-shutdown-event-handler" title="Permalink to this headline">¶</a></h4>
<p>A shutdown event handler that should compare the test run with the
reference run, exiting with zero exit status only if the test run
verifies.</p>
<ul class="simple">
<li><em>type</em>: string (event handler command name or path)</li>
<li><em>default</em>: <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">hook</span> <span class="pre">check-triggering</span></code></li>
</ul>
<p>As for any event handler, the full path can be omitted if the script is
located somewhere in <code class="docutils literal notranslate"><span class="pre">$PATH</span></code> or in the suite bin directory.</p>
</div>
<div class="section" id="cylc-reference-test-required-run-mode">
<h4>15.1.3.13.19. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[reference test]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> required run mode<a class="headerlink" href="#cylc-reference-test-required-run-mode" title="Permalink to this headline">¶</a></h4>
<p>If your reference test is only valid for a particular run mode, this
setting will cause cylc to abort if a reference test is attempted
in another run mode.</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>legal values</em>: live, dummy, dummy-local, simulation</li>
<li><em>default</em>: None</li>
</ul>
</div>
<div class="section" id="cylc-reference-test-allow-task-failures">
<h4>15.1.3.13.20. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[reference test]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> allow task failures<a class="headerlink" href="#cylc-reference-test-allow-task-failures" title="Permalink to this headline">¶</a></h4>
<p>A reference test run will abort immediately if any task fails, unless
this item is set, or a list of <em>expected task failures</em> is provided
(below).</p>
<ul class="simple">
<li><em>type</em>: boolean</li>
<li><em>default</em>: False</li>
</ul>
</div>
<div class="section" id="cylc-reference-test-expected-task-failures">
<h4>15.1.3.13.21. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[reference test]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> expected task failures<a class="headerlink" href="#cylc-reference-test-expected-task-failures" title="Permalink to this headline">¶</a></h4>
<p>A reference test run will abort immediately if any task fails, unless
<em>allow task failures</em> is set (above) or the failed task is found
in a list IDs of tasks that are expected to fail.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of strings (task IDs: <code class="docutils literal notranslate"><span class="pre">name.cycle_point</span></code>).</li>
<li><em>default</em>: (none)</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">foo.20120808,</span> <span class="pre">bar.20120908</span></code></li>
</ul>
</div>
<div class="section" id="cylc-reference-test-live-mode-suite-timeout">
<h4>15.1.3.13.22. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[reference test]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> live mode suite timeout<a class="headerlink" href="#cylc-reference-test-live-mode-suite-timeout" title="Permalink to this headline">¶</a></h4>
<p>The timeout value, expressed as an ISO 8601 duration/interval, after which the
test run should be aborted if it has not finished, in live mode. Test runs
cannot be done in live mode unless you define a value for this item, because
it is not possible to arrive at a sensible default for all suites.</p>
<ul class="simple">
<li><em>type</em>: ISO 8601 duration/interval representation, e.g.
<code class="docutils literal notranslate"><span class="pre">PT5M</span></code> is 5 minutes (note: by contrast <code class="docutils literal notranslate"><span class="pre">P5M</span></code> means 5
months, so remember the <code class="docutils literal notranslate"><span class="pre">T</span></code>!).</li>
<li><em>default</em>: PT1M (1 minute)</li>
</ul>
</div>
<div class="section" id="cylc-reference-test-simulation-mode-suite-timeout">
<h4>15.1.3.13.23. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[reference test]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> simulation mode suite timeout<a class="headerlink" href="#cylc-reference-test-simulation-mode-suite-timeout" title="Permalink to this headline">¶</a></h4>
<p>The timeout value in minutes after which the test run should be aborted
if it has not finished, in simulation mode. Test runs cannot be done in
simulation mode unless you define a value for this item, because it is
not possible to arrive at a sensible default for all suites.</p>
<ul class="simple">
<li><em>type</em>: ISO 8601 duration/interval representation (e.g.
<code class="docutils literal notranslate"><span class="pre">PT5M</span></code>, 5 minutes (note: by contrast, <code class="docutils literal notranslate"><span class="pre">P5M</span></code> means 5
months, so remember the <code class="docutils literal notranslate"><span class="pre">T</span></code>!)).</li>
<li><em>default</em>: PT1M (1 minute)</li>
</ul>
</div>
<div class="section" id="cylc-reference-test-dummy-mode-suite-timeout">
<h4>15.1.3.13.24. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[reference test]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> dummy mode suite timeout<a class="headerlink" href="#cylc-reference-test-dummy-mode-suite-timeout" title="Permalink to this headline">¶</a></h4>
<p>The timeout value, expressed as an ISO 8601 duration/interval, after which the
test run should be aborted if it has not finished, in dummy mode.  Test runs
cannot be done in dummy mode unless you define a value for this item, because
it is not possible to arrive at a sensible default for all suites.</p>
<ul class="simple">
<li><em>type</em>: ISO 8601 duration/interval representation (e.g.
<code class="docutils literal notranslate"><span class="pre">PT5M</span></code>, 5 minutes (note: by contrast, <code class="docutils literal notranslate"><span class="pre">P5M</span></code> means 5
months, so remember the <code class="docutils literal notranslate"><span class="pre">T</span></code>!)).</li>
<li><em>default</em>: PT1M (1 minute)</li>
</ul>
</div>
</div>
<div class="section" id="cylc-authentication">
<span id="suiteauth"></span><h3>15.1.3.14. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[authentication]]<a class="headerlink" href="#cylc-authentication" title="Permalink to this headline">¶</a></h3>
<p>Authentication of client programs with suite server programs can be set in the
global site/user config files and overridden here if necessary.
See <a class="reference internal" href="site-user-config-ref.html#globalauth"><span class="std std-ref">[authentication]</span></a> for more information.</p>
<div class="section" id="cylc-authentication-public">
<h4>15.1.3.14.1. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[authentication]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> public<a class="headerlink" href="#cylc-authentication-public" title="Permalink to this headline">¶</a></h4>
<p>The client privilege level granted for public access - i.e. no suite passphrase
required.  See <a class="reference internal" href="site-user-config-ref.html#globalauth"><span class="std std-ref">[authentication]</span></a> for legal values.</p>
</div>
</div>
<div class="section" id="cylc-simulation">
<h3>15.1.3.15. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[simulation]]<a class="headerlink" href="#cylc-simulation" title="Permalink to this headline">¶</a></h3>
<p>Suite-level configuration for the <em>simulation</em> and <em>dummy</em> run modes
described in <a class="reference internal" href="../running-suites.html#simulationmode"><span class="std std-ref">Simulating Suite Behaviour</span></a>.</p>
<div class="section" id="cylc-simulation-disable-suite-event-handlers">
<h4>15.1.3.15.1. [cylc] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[simulation]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> disable suite event handlers<a class="headerlink" href="#cylc-simulation-disable-suite-event-handlers" title="Permalink to this headline">¶</a></h4>
<p>If this is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> configured suite event handlers will not be
called in simulation or dummy modes.</p>
<ul class="simple">
<li><em>type</em>: boolean</li>
<li><em>default</em>: <code class="docutils literal notranslate"><span class="pre">True</span></code></li>
</ul>
</div>
</div>
</div>
<div class="section" id="scheduling">
<h2>15.1.4. [scheduling]<a class="headerlink" href="#scheduling" title="Permalink to this headline">¶</a></h2>
<p>This section allows cylc to determine when tasks are ready to run.</p>
<div class="section" id="scheduling-cycling-mode">
<span id="cycling-mode"></span><h3>15.1.4.1. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> cycling mode<a class="headerlink" href="#scheduling-cycling-mode" title="Permalink to this headline">¶</a></h3>
<p>Cylc runs using the proleptic Gregorian calendar by default. This item allows
you to either run the suite using the 360 day calendar (12 months of 30 days
in a year) or using integer cycling. It also supports use of the 365 (never a
leap year) and 366 (always a leap year) calendars.</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>legal values</em>: gregorian, 360day, 365day, 366day, integer</li>
<li><em>default</em>: gregorian</li>
</ul>
</div>
<div class="section" id="scheduling-initial-cycle-point">
<span id="initial-cycle-point"></span><h3>15.1.4.2. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> initial cycle point<a class="headerlink" href="#scheduling-initial-cycle-point" title="Permalink to this headline">¶</a></h3>
<p>In a cold start each cycling task (unless specifically excluded under
<code class="docutils literal notranslate"><span class="pre">[special</span> <span class="pre">tasks]</span></code>) will be loaded into the suite with this cycle point,
or with the closest subsequent valid cycle point for the task.  This item can
be overridden on the command line or in the gcylc suite start panel.</p>
<p>In date-time cycling, if you do not provide time zone information for this,
it will be assumed to be local time, or in UTC if <a class="reference internal" href="#utc-mode"><span class="std std-ref">[cylc] -&gt; UTC mode</span></a> is set, or in
the time zone determined by <a class="reference internal" href="#cycle-point-time-zone"><span class="std std-ref">[cylc] -&gt; cycle point time zone</span></a> if that is set.</p>
<ul class="simple">
<li><em>type</em>: ISO 8601 date-time point representation (e.g.
<code class="docutils literal notranslate"><span class="pre">CCYYMMDDThhmm</span></code>, 19951231T0630) or “now”.</li>
<li><em>default</em>: (none)</li>
</ul>
<p>The string “now” converts to the current date-time on the suite host (adjusted
to UTC if the suite is in UTC mode but the host is not) to minute resolution.
Minutes (or hours, etc.) may be ignored depending on your cycle point format
(<a class="reference internal" href="#cycle-point-format"><span class="std std-ref">[cylc] -&gt; cycle point format</span></a>).</p>
</div>
<div class="section" id="scheduling-initial-cycle-point-initial-cycle-point-relative-to-current-time">
<h3>15.1.4.3. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[initial cycle point]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> initial cycle point relative to current time<a class="headerlink" href="#scheduling-initial-cycle-point-initial-cycle-point-relative-to-current-time" title="Permalink to this headline">¶</a></h3>
<p>This can be used to set the initial cycle point time relative to the
current time.</p>
<p>Two additional commands, <code class="docutils literal notranslate"><span class="pre">next</span></code> and <code class="docutils literal notranslate"><span class="pre">previous</span></code>, can be used when setting
the initial cycle point.</p>
<p>The syntax uses truncated ISO8601 time representations, and is of the style:
<code class="docutils literal notranslate"><span class="pre">next(Thh:mmZ)</span></code>, <code class="docutils literal notranslate"><span class="pre">previous(T-mm)</span></code>; e.g.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">initial</span> <span class="pre">cycle</span> <span class="pre">point</span> <span class="pre">=</span> <span class="pre">next(T15:00Z)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">initial</span> <span class="pre">cycle</span> <span class="pre">point</span> <span class="pre">=</span> <span class="pre">previous(T09:00)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">initial</span> <span class="pre">cycle</span> <span class="pre">point</span> <span class="pre">=</span> <span class="pre">next(T12)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">initial</span> <span class="pre">cycle</span> <span class="pre">point</span> <span class="pre">=</span> <span class="pre">previous(T-20)</span></code></li>
</ul>
<p>Examples of interpretation are given in
<a class="reference internal" href="#fig-relative-initial-cycle-point-time-syntax-interpretation"><span class="std std-numref">Table 1</span></a>.</p>
<p>A list of times, separated by semicolons, can be provided, e.g.
<code class="docutils literal notranslate"><span class="pre">next(T-00;T-15;T-30;T-45)</span></code>. At least one time is required within the
brackets, and if more than one is given, the major time unit in each (hours
or minutes) should all be of the same type.</p>
<p>If an offset from the specified date or time is required, this should be
used in the form: <code class="docutils literal notranslate"><span class="pre">previous(Thh:mm)</span> <span class="pre">+/-</span> <span class="pre">PxTy</span></code> in the same way as is used
for determining cycle periods, e.g.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">initial</span> <span class="pre">cycle</span> <span class="pre">point</span> <span class="pre">=</span> <span class="pre">previous(T06)</span> <span class="pre">+P1D</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">initial</span> <span class="pre">cycle</span> <span class="pre">point</span> <span class="pre">=</span> <span class="pre">next(T-30)</span> <span class="pre">-PT1H</span></code></li>
</ul>
<p>The section in the bracket attached to the next/previous command is
interpreted first, and then the offset is applied.</p>
<p>The offset can also be used independently without a <code class="docutils literal notranslate"><span class="pre">next</span></code> or <code class="docutils literal notranslate"><span class="pre">previous</span></code>
command, and will be interpreted as an offset from “now”.</p>
<span id="fig-relative-initial-cycle-point-time-syntax-interpretation"></span><table border="1" class="docutils" id="id1">
<caption><span class="caption-number">Table 1 </span><span class="caption-text">Examples of setting relative initial cycle point for times and offsets using <code class="docutils literal notranslate"><span class="pre">now</span> <span class="pre">=</span> <span class="pre">2018-03-14T15:12Z</span></code> (and UTC mode)</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="67%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Syntax</th>
<th class="head">Interpretation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">next(T-00)</span></code></td>
<td>2018-03-14T16:00Z</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">previous(T-00)</span></code></td>
<td>2018-03-14T15:00Z</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">next(T-00;</span> <span class="pre">T-15;</span> <span class="pre">T-30;</span> <span class="pre">T-45)</span></code></td>
<td>2018-03-14T15:15Z</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">previous(T-00;</span> <span class="pre">T-15;</span> <span class="pre">T-30;</span> <span class="pre">T-45)</span></code></td>
<td>2018-03-14T15:00Z</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">next(T00)</span></code></td>
<td>2018-03-15T00:00Z</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">previous(T00)</span></code></td>
<td>2018-03-14T00:00Z</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">next(T06:30Z)</span></code></td>
<td>2018-03-15T06:30Z</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">previous(T06:30)</span> <span class="pre">-P1D</span></code></td>
<td>2018-03-13T06:30Z</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">next(T00;</span> <span class="pre">T06;</span> <span class="pre">T12;</span> <span class="pre">T18)</span></code></td>
<td>2018-03-14T18:00Z</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">previous(T00;</span> <span class="pre">T06;</span> <span class="pre">T12;</span> <span class="pre">T18)</span></code></td>
<td>2018-03-14T12:00Z</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">next(T00;</span> <span class="pre">T06;</span> <span class="pre">T12;</span> <span class="pre">T18)</span> <span class="pre">+P1W</span></code></td>
<td>2018-03-21T18:00Z</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">PT1H</span></code></td>
<td>2018-03-14T16:12Z</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">-P1M</span></code></td>
<td>2018-02-14T15:12Z</td>
</tr>
</tbody>
</table>
<p>The relative initial cycle point also works with truncated dates, including
weeks and ordinal date, using ISO8601 truncated date representations.
Note that day-of-week should always be specified when using weeks. If a time
is not included, the calculation of the next or previous corresponding
point will be done from midnight of the current day.
Examples of interpretation are given in
<a class="reference internal" href="#fig-relative-initial-cycle-point-date-syntax-interpretation"><span class="std std-numref">Table 2</span></a>.</p>
<span id="fig-relative-initial-cycle-point-date-syntax-interpretation"></span><table border="1" class="docutils" id="id2">
<caption><span class="caption-number">Table 2 </span><span class="caption-text">Examples of setting relative initial cycle point for dates using <code class="docutils literal notranslate"><span class="pre">now</span> <span class="pre">=</span> <span class="pre">2018-03-14T15:12Z</span></code> (and UTC mode)</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="67%" />
<col width="33%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Syntax</th>
<th class="head">Interpretation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">next(-00)</span></code></td>
<td>2100-01-01T00:00Z</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">previous(--01)</span></code></td>
<td>2018-01-01T00:00Z</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">next(---01)</span></code></td>
<td>2018-04-01T00:00Z</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">previous(--1225)</span></code></td>
<td>2017-12-25T00:00Z</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">next(-2006)</span></code></td>
<td>2020-06-01T00:00Z</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">previous(-W101)</span></code></td>
<td>2018-03-05T00:00Z</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">next(-W-1;</span> <span class="pre">-W-3;</span> <span class="pre">-W-5)</span></code></td>
<td>2018-03-14T00:00Z</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">next(-001;</span> <span class="pre">-091;</span> <span class="pre">-181;</span> <span class="pre">-271)</span></code></td>
<td>2018-04-01T00:00Z</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">previous(-365T12Z)</span></code></td>
<td>2017-12-31T12:00Z</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="scheduling-final-cycle-point">
<h3>15.1.4.4. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> final cycle point<a class="headerlink" href="#scheduling-final-cycle-point" title="Permalink to this headline">¶</a></h3>
<p>Cycling tasks are held once they pass the final cycle point, if one is
specified. Once all tasks have achieved this state the suite will shut
down. If this item is provided you can override it on the command line
or in the gcylc suite start panel.</p>
<p>In date-time cycling, if you do not provide time zone information for this,
it will be assumed to be local time, or in UTC if <a class="reference internal" href="#utc-mode"><span class="std std-ref">[cylc] -&gt; UTC mode</span></a> is set, or in
the <a class="reference internal" href="#cycle-point-time-zone"><span class="std std-ref">[cylc] -&gt; cycle point time zone</span></a> if that is set.</p>
<ul class="simple">
<li><em>type</em>: ISO 8601 date-time point representation (e.g.
<code class="docutils literal notranslate"><span class="pre">CCYYMMDDThhmm</span></code>, 19951231T1230) or ISO 8601 date-time offset
(e.g.  +P1D+PT6H)</li>
<li><em>default</em>: (none)</li>
</ul>
</div>
<div class="section" id="scheduling-initial-cycle-point-constraints">
<span id="initial-cycle-point-constraints"></span><h3>15.1.4.5. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> initial cycle point constraints<a class="headerlink" href="#scheduling-initial-cycle-point-constraints" title="Permalink to this headline">¶</a></h3>
<p>In a cycling suite it is possible to restrict the initial cycle point by
defining a list of truncated time points under the initial cycle point
constraints.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of ISO 8601 truncated time point
representations (e.g.  T00, T06, T-30).</li>
<li><em>default</em>: (none)</li>
</ul>
</div>
<div class="section" id="scheduling-final-cycle-point-constraints">
<span id="final-cycle-point-constraints"></span><h3>15.1.4.6. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> final cycle point constraints<a class="headerlink" href="#scheduling-final-cycle-point-constraints" title="Permalink to this headline">¶</a></h3>
<p>In a cycling suite it is possible to restrict the final cycle point by
defining a list of truncated time points under the final cycle point
constraints.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of ISO 8601 truncated time point
representations (e.g. T00, T06, T-30).</li>
<li><em>default</em>: (none)</li>
</ul>
</div>
<div class="section" id="scheduling-hold-after-point">
<h3>15.1.4.7. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> hold after point<a class="headerlink" href="#scheduling-hold-after-point" title="Permalink to this headline">¶</a></h3>
<p>Cycling tasks are held once they pass the hold after cycle point, if one is
specified. Unlike the final cycle point suite will not shut down once all tasks
have passed this point. If this item is provided you can override it on the
command line or in the gcylc suite start panel.</p>
</div>
<div class="section" id="scheduling-runahead-limit">
<span id="runahead-limit"></span><h3>15.1.4.8. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> runahead limit<a class="headerlink" href="#scheduling-runahead-limit" title="Permalink to this headline">¶</a></h3>
<p>Runahead limiting prevents the fastest tasks in a suite from getting too far
ahead of the slowest ones, as documented in <a class="reference internal" href="../running-suites.html#runaheadlimit"><span class="std std-ref">Runahead Limiting</span></a>.</p>
<p>This config item specifies a hard limit as a cycle interval between the
slowest and fastest tasks. It is deprecated in favour of the newer default
limiting by <code class="docutils literal notranslate"><span class="pre">max</span> <span class="pre">active</span> <span class="pre">cycle</span> <span class="pre">points</span></code> (<a class="reference internal" href="#max-active-cycle-points"><span class="std std-ref">[scheduling] -&gt; max active cycle points</span></a>).</p>
<ul class="simple">
<li><em>type</em>: Cycle interval string e.g. <code class="docutils literal notranslate"><span class="pre">PT12H</span></code>
for a 12 hour limit under ISO 8601 cycling.</li>
<li><em>default</em>: (none)</li>
</ul>
</div>
<div class="section" id="scheduling-max-active-cycle-points">
<span id="max-active-cycle-points"></span><h3>15.1.4.9. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> max active cycle points<a class="headerlink" href="#scheduling-max-active-cycle-points" title="Permalink to this headline">¶</a></h3>
<p>Runahead limiting prevents the fastest tasks in a suite from getting too far
ahead of the slowest ones, as documented in <a class="reference internal" href="../running-suites.html#runaheadlimit"><span class="std std-ref">Runahead Limiting</span></a>.</p>
<p>This config item supersedes the deprecated hard <code class="docutils literal notranslate"><span class="pre">runahead</span> <span class="pre">limit</span></code>
(<a class="reference internal" href="#runahead-limit"><span class="std std-ref">[scheduling] -&gt; runahead limit</span></a>). It allows up to <code class="docutils literal notranslate"><span class="pre">N</span></code> (default 3) consecutive
cycle points to be active at any time, adjusted up if necessary for
any future triggering.</p>
<ul class="simple">
<li><em>type</em>: integer</li>
<li><em>default</em>: 3</li>
</ul>
</div>
<div class="section" id="scheduling-spawn-to-max-active-cycle-points">
<span id="spawn-to-max-active-cycle-points"></span><h3>15.1.4.10. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> spawn to max active cycle points<a class="headerlink" href="#scheduling-spawn-to-max-active-cycle-points" title="Permalink to this headline">¶</a></h3>
<p>Allows tasks to spawn out to <code class="docutils literal notranslate"><span class="pre">max</span> <span class="pre">active</span> <span class="pre">cycle</span> <span class="pre">points</span></code>
(<a class="reference internal" href="#max-active-cycle-points"><span class="std std-ref">[scheduling] -&gt; max active cycle points</span></a>), removing restriction that a task has to have
submitted before its successor can be spawned.</p>
<p><em>Important</em>: This should be used with care given the potential impact of
additional task proxies both in terms of memory and cpu for the cylc daemon as
well as overheads in rendering all the additional tasks in gcylc. Also, use
of the setting may highlight any issues with suite design relying on the
default behaviour where downstream tasks would otherwise be waiting on ones
upstream submitting and the suite would have stalled e.g. a housekeeping task
at a later cycle deleting an earlier cycle’s data before that cycle has had
chance to run where previously the task would not have been spawned until its
predecessor had been submitted.</p>
<ul class="simple">
<li><em>type</em>: boolean</li>
<li><em>default</em>: False</li>
</ul>
</div>
<div class="section" id="scheduling-queues">
<h3>15.1.4.11. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[queues]]<a class="headerlink" href="#scheduling-queues" title="Permalink to this headline">¶</a></h3>
<p>Configuration of internal queues, by which the number of simultaneously
active tasks (submitted or running) can be limited, per queue. By
default a single queue called <em>default</em> is defined, with all tasks
assigned to it and no limit. To use a single queue for the whole suite
just set the limit on the <em>default</em> queue as required.
See also <a class="reference internal" href="../running-suites.html#internalqueues"><span class="std std-ref">Limiting Activity With Internal Queues</span></a>.</p>
<div class="section" id="scheduling-queues-queue">
<h4>15.1.4.11.1. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[queues]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[__QUEUE__]]]<a class="headerlink" href="#scheduling-queues-queue" title="Permalink to this headline">¶</a></h4>
<p>Section heading for configuration of a single queue. Replace
<code class="docutils literal notranslate"><span class="pre">__QUEUE__</span></code> with a queue name, and repeat the section as required.</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>default</em>: “default”</li>
</ul>
<div class="section" id="scheduling-queues-queue-limit">
<h5>15.1.4.11.1.1. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[queues]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[__QUEUE__]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> limit<a class="headerlink" href="#scheduling-queues-queue-limit" title="Permalink to this headline">¶</a></h5>
<p>The maximum number of active tasks allowed at any one time, for this queue.</p>
<ul class="simple">
<li><em>type</em>: integer</li>
<li><em>default</em>: 0 (i.e. no limit)</li>
</ul>
</div>
<div class="section" id="scheduling-queues-queue-members">
<h5>15.1.4.11.1.2. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[queues]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[__QUEUE__]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> members<a class="headerlink" href="#scheduling-queues-queue-members" title="Permalink to this headline">¶</a></h5>
<p>A list of member tasks, or task family names, to assign to this queue
(assigned tasks will automatically be removed from the default queue).</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of strings (task or family names).</li>
<li><em>default</em>: none for user-defined queues; all tasks for the “default” queue</li>
</ul>
</div>
</div>
</div>
<div class="section" id="scheduling-xtriggers">
<h3>15.1.4.12. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[xtriggers]]<a class="headerlink" href="#scheduling-xtriggers" title="Permalink to this headline">¶</a></h3>
<p>This section is for <em>External Trigger</em> function declarations -
see <a class="reference internal" href="../external-triggers.html#external-triggers"><span class="std std-ref">External Triggers</span></a>.</p>
<div class="section" id="scheduling-xtriggers-many">
<h4>15.1.4.12.1. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[xtriggers]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> __MANY__<a class="headerlink" href="#scheduling-xtriggers-many" title="Permalink to this headline">¶</a></h4>
<p>Replace <code class="docutils literal notranslate"><span class="pre">__MANY__</span></code> with any user-defined event trigger function
declarations and corresponding labels for use in the graph:</p>
<ul class="simple">
<li><em>type</em>: string: function signature followed by optional call interval</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">trig_1</span> <span class="pre">=</span> <span class="pre">my_trigger(arg1,</span> <span class="pre">arg2,</span> <span class="pre">kwarg1,</span> <span class="pre">kwarg2):PT10S</span></code></li>
</ul>
<p>(See <a class="reference internal" href="../external-triggers.html#external-triggers"><span class="std std-ref">External Triggers</span></a> for details).</p>
</div>
</div>
<div class="section" id="scheduling-special-tasks">
<h3>15.1.4.13. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[special tasks]]<a class="headerlink" href="#scheduling-special-tasks" title="Permalink to this headline">¶</a></h3>
<p>This section is used to identify tasks with special behaviour. Family names can
be used in special task lists as shorthand for listing all member tasks.</p>
<div class="section" id="scheduling-special-tasks-clock-trigger">
<h4>15.1.4.13.1. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[special tasks]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> clock-trigger<a class="headerlink" href="#scheduling-special-tasks-clock-trigger" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Please read <a class="reference internal" href="../external-triggers.html#external-triggers"><span class="std std-ref">External Triggers</span></a> before
using the older clock triggers described in this section.</p>
</div>
<p>Clock-trigger tasks (see <a class="reference internal" href="../suite-config.html#clocktriggertasks"><span class="std std-ref">Clock Triggers</span></a>) wait on a wall clock time
specified as an offset from their own cycle point.</p>
<ul>
<li><p class="first"><em>type</em>: Comma-separated list of task or family names with
associated date-time offsets expressed as ISO8601 interval strings,
positive or negative, e.g. <code class="docutils literal notranslate"><span class="pre">PT1H</span></code> for 1 hour.  The offset
specification may be omitted to trigger right on the cycle point.</p>
</li>
<li><p class="first"><em>default</em>: (none)</p>
</li>
<li><p class="first"><em>example</em>:</p>
<div class="highlight-cylc notranslate"><div class="highlight"><pre><span></span><span class="nv">clock-trigger </span><span class="o">=</span><span class="s"> foo(PT1H30M), bar(PT1.5H), baz</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="scheduling-special-tasks-clock-expire">
<span id="clockexpireref"></span><h4>15.1.4.13.2. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[special tasks]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> clock-expire<a class="headerlink" href="#scheduling-special-tasks-clock-expire" title="Permalink to this headline">¶</a></h4>
<p>Clock-expire tasks enter the <code class="docutils literal notranslate"><span class="pre">expired</span></code> state and skip job submission if too
far behind the wall clock when they become ready to run.  The expiry time is
specified as an offset from wall-clock time; typically it should be negative -
see <a class="reference internal" href="../suite-config.html#clockexpiretasks"><span class="std std-ref">Clock-Expire Triggers</span></a>.</p>
<ul>
<li><p class="first"><em>type</em>: Comma-separated list of task or family names with
associated date-time offsets expressed as ISO8601 interval strings,
positive or negative, e.g. <code class="docutils literal notranslate"><span class="pre">PT1H</span></code> for 1 hour.  The offset
may be omitted if it is zero.</p>
</li>
<li><p class="first"><em>default</em>: (none)</p>
</li>
<li><p class="first"><em>example</em>:</p>
<div class="highlight-cylc notranslate"><div class="highlight"><pre><span></span><span class="nv">clock-expire </span><span class="o">=</span><span class="s"> foo(-P1D)</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="scheduling-special-tasks-external-trigger">
<h4>15.1.4.13.3. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[special tasks]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> external-trigger<a class="headerlink" href="#scheduling-special-tasks-external-trigger" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Please read <a class="reference internal" href="../external-triggers.html#external-triggers"><span class="std std-ref">External Triggers</span></a> before
using the older mechanism described in this section.</p>
</div>
<p>Externally triggered tasks (see <a class="reference internal" href="../external-triggers.html#old-style-external-triggers"><span class="std std-ref">Old-Style External Triggers (Deprecated)</span></a>) wait on
external events reported via the <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">ext-trigger</span></code> command. To
constrain triggers to a specific cycle point, include
<code class="docutils literal notranslate"><span class="pre">$CYLC_TASK_CYCLE_POINT</span></code> in the trigger message string and pass the
cycle point to the <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">ext-trigger</span></code> command.</p>
<ul>
<li><p class="first"><em>type</em>: Comma-separated list of task names with associated
external trigger message strings.</p>
</li>
<li><p class="first"><em>default</em>: (none)</p>
</li>
<li><p class="first"><em>example</em>: (note the comma and line-continuation character)</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>external-trigger = get-satx(&quot;new sat-X data ready&quot;),
                   get-saty(&quot;new sat-Y data ready for $CYLC_TASK_CYCLE_POINT&quot;)
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="scheduling-special-tasks-sequential">
<h4>15.1.4.13.4. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[special tasks]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> sequential<a class="headerlink" href="#scheduling-special-tasks-sequential" title="Permalink to this headline">¶</a></h4>
<p>Sequential tasks automatically depend on their own previous-cycle instance.
This declaration is deprecated in favour of explicit inter-cycle triggers -
see <a class="reference internal" href="../suite-config.html#sequentialtasks"><span class="std std-ref">Special Sequential Tasks</span></a>.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of task or family names.</li>
<li><em>default</em>: (none)</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">sequential</span> <span class="pre">=</span> <span class="pre">foo,</span> <span class="pre">bar</span></code></li>
</ul>
</div>
<div class="section" id="scheduling-special-tasks-exclude-at-start-up">
<span id="easu"></span><h4>15.1.4.13.5. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[special tasks]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> exclude at start-up<a class="headerlink" href="#scheduling-special-tasks-exclude-at-start-up" title="Permalink to this headline">¶</a></h4>
<p>Any task listed here will be excluded from the initial task pool (this
goes for suite restarts too). If an <em>inclusion</em> list is also
specified, the initial pool will contain only included tasks that have
not been excluded. Excluded tasks can still be inserted at run time.
Other tasks may still depend on excluded tasks if they have not been
removed from the suite dependency graph, in which case some manual
triggering, or insertion of excluded tasks, may be required.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of task or family names.</li>
<li><em>default</em>: (none)</li>
</ul>
</div>
<div class="section" id="scheduling-special-tasks-include-at-start-up">
<span id="iasu"></span><h4>15.1.4.13.6. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[special tasks]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> include at start-up<a class="headerlink" href="#scheduling-special-tasks-include-at-start-up" title="Permalink to this headline">¶</a></h4>
<p>If this list is not empty, any task <em>not</em> listed in it will be
excluded from the initial task pool (this goes for suite restarts too).
If an <em>exclusion</em> list is also specified, the initial pool will
contain only included tasks that have not been excluded. Excluded tasks
can still be inserted at run time. Other tasks may still depend on
excluded tasks if they have not been removed from the suite dependency
graph, in which case some manual triggering, or insertion of excluded
tasks, may be required.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of task or family names.</li>
<li><em>default</em>: (none)</li>
</ul>
</div>
</div>
<div class="section" id="scheduling-dependencies">
<h3>15.1.4.14. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[dependencies]]<a class="headerlink" href="#scheduling-dependencies" title="Permalink to this headline">¶</a></h3>
<p>The suite dependency graph is defined under this section.  You can plot
the dependency graph as you work on it, with <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">graph</span></code> or
by right clicking on the suite in the db viewer.  See
also <a class="reference internal" href="../suite-config.html#configuringscheduling"><span class="std std-ref">Scheduling - Dependency Graphs</span></a>.</p>
<div class="section" id="scheduling-dependencies-graph">
<h4>15.1.4.14.1. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[dependencies]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> graph<a class="headerlink" href="#scheduling-dependencies-graph" title="Permalink to this headline">¶</a></h4>
<p>The dependency graph for a completely non-cycling suites can go here.
See also <a class="reference internal" href="#graphdescrip"><span class="std std-ref">[scheduling] -&gt; [[dependencies]] -&gt; [[[__RECURRENCE__]]] -&gt; graph</span></a> below and <a class="reference internal" href="../suite-config.html#configuringscheduling"><span class="std std-ref">Scheduling - Dependency Graphs</span></a>, for graph
string syntax.</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>example</em>: (see <a class="reference internal" href="#graphdescrip"><span class="std std-ref">[scheduling] -&gt; [[dependencies]] -&gt; [[[__RECURRENCE__]]] -&gt; graph</span></a> below)</li>
</ul>
</div>
<div class="section" id="scheduling-dependencies-recurrence">
<h4>15.1.4.14.2. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[dependencies]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[__RECURRENCE__]]]<a class="headerlink" href="#scheduling-dependencies-recurrence" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">__RECURRENCE__</span></code> section headings define the sequence of cycle points for
which the subsequent graph section is valid. These should be specified in
our ISO 8601 derived sequence syntax, or similar for integer cycling:</p>
<ul class="simple">
<li><em>examples</em>:
- date-time cycling: <code class="docutils literal notranslate"><span class="pre">[[[T00,T06,T12,T18]]]</span></code> or <code class="docutils literal notranslate"><span class="pre">[[[PT6H]]]</span></code>
- integer cycling (stepped by 2): <code class="docutils literal notranslate"><span class="pre">[[[P2]]]</span></code></li>
<li><em>default</em>: (none)</li>
</ul>
<p>See <a class="reference internal" href="../suite-config.html#graphtypes"><span class="std std-ref">Graph Types</span></a> for more on recurrence expressions, and how multiple
graph sections combine.</p>
<div class="section" id="scheduling-dependencies-recurrence-graph">
<span id="graphdescrip"></span><h5>15.1.4.14.2.1. [scheduling] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[dependencies]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[__RECURRENCE__]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> graph<a class="headerlink" href="#scheduling-dependencies-recurrence-graph" title="Permalink to this headline">¶</a></h5>
<p>The dependency graph for a given recurrence section goes here. Syntax examples
follow; see also <a class="reference internal" href="../suite-config.html#configuringscheduling"><span class="std std-ref">Scheduling - Dependency Graphs</span></a> and <a class="reference internal" href="../suite-config.html#triggertypes"><span class="std std-ref">Task Triggering</span></a>.</p>
<ul>
<li><p class="first"><em>type</em>: string</p>
</li>
<li><p class="first"><em>examples</em>:</p>
<div class="highlight-cylc notranslate"><div class="highlight"><pre><span></span><span class="nv">graph</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
    <span class="kd">foo</span> <span class="o">=&gt;</span> <span class="kd">bar</span> <span class="o">=&gt;</span> <span class="kd">baz</span> <span class="o">&amp;</span> <span class="kd">waz</span>     <span class="c1"># baz and waz both trigger off bar</span>
    <span class="kd">foo</span>[<span class="nb">-P1D-PT6H</span>] <span class="o">=&gt;</span> <span class="kd">bar</span>       <span class="c1"># bar triggers off foo[-P1D-PT6H]</span>
    <span class="kd">baz</span><span class="c">:</span><span class="kd">out1</span> <span class="o">=&gt;</span> <span class="kd">faz</span>             <span class="c1"># faz triggers off a message output of baz</span>
    <span class="kd">X</span><span class="c">:</span><span class="kd">start</span> <span class="o">=&gt;</span> <span class="kd">Y</span>                <span class="c1"># Y triggers if X starts executing</span>
    <span class="kd">X</span><span class="c">:</span><span class="kd">fail</span> <span class="o">=&gt;</span> <span class="kd">Y</span>                 <span class="c1"># Y triggers if X fails</span>
    <span class="kd">foo</span>[<span class="nb">-PT6H</span>]<span class="c">:</span><span class="kd">fail</span> <span class="o">=&gt;</span> <span class="kd">bar</span>      <span class="c1"># bar triggers if foo[-PT6H] fails</span>
    <span class="kd">X</span> <span class="o">=&gt;</span> <span class="x">!Y</span>                     <span class="c1"># Y suicides if X succeeds</span>
    <span class="kd">X</span> <span class="o">|</span> <span class="kd">X</span><span class="c">:</span><span class="kd">fail</span> <span class="o">=&gt;</span> <span class="kd">Z</span>             <span class="c1"># Z triggers if X succeeds or fails</span>
    <span class="kd">X</span><span class="c">:</span><span class="kd">finish</span> <span class="o">=&gt;</span> <span class="kd">Z</span>               <span class="c1"># Z triggers if X succeeds or fails</span>
    <span class="p">(</span><span class="kd">A</span> <span class="o">|</span> <span class="kd">B</span> <span class="o">&amp;</span> <span class="kd">C</span> <span class="p">)</span> <span class="o">|</span> <span class="kd">D</span> <span class="o">=&gt;</span> <span class="kd">foo</span>     <span class="c1"># general conditional triggers</span>
    <span class="kd">foo</span><span class="c">:</span><span class="kd">submit</span> <span class="o">=&gt;</span> <span class="kd">bar</span>           <span class="c1"># bar triggers if foo is successfully submitted</span>
    <span class="kd">foo</span><span class="c">:</span><span class="kd">submit</span><span class="c">-</span><span class="kd">fail</span> <span class="o">=&gt;</span> <span class="kd">bar</span>      <span class="c1"># bar triggers if submission of foo fails</span>
    <span class="c1"># comment</span>
<span class="s2">&quot;&quot;&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first"><em>default</em>: (none)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="section" id="runtime">
<h2>15.1.5. [runtime]<a class="headerlink" href="#runtime" title="Permalink to this headline">¶</a></h2>
<p>This section is used to specify how, where, and what to execute when
tasks are ready to run. Common
configuration can be factored out in a multiple-inheritance hierarchy of
runtime namespaces that culminates in the tasks of the suite. Order of
precedence is determined by the C3 linearization algorithm as used to
find the <em>method resolution order</em> in Python language class
hierarchies. For details and examples see <a class="reference internal" href="../suite-config.html#niorp"><span class="std std-ref">Runtime - Task Configuration</span></a>.</p>
<div class="section" id="runtime-name">
<h3>15.1.5.1. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]]<a class="headerlink" href="#runtime-name" title="Permalink to this headline">¶</a></h3>
<p>Replace <code class="docutils literal notranslate"><span class="pre">__NAME__</span></code> with a namespace name, or a comma-separated list of
names, and repeat as needed to define all tasks in the suite. Names must
be valid according to the restrictions outlined in <a class="reference internal" href="../suite-config.html#tasknames"><span class="std std-ref">Task and Namespace Names</span></a>.</p>
<p>A namespace represents a group or family of tasks if other namespaces
inherit from it, or a task if no others inherit from it.</p>
<ul class="simple">
<li><em>legal values</em>:
- <code class="docutils literal notranslate"><span class="pre">[[foo]]</span></code>
- <code class="docutils literal notranslate"><span class="pre">[[foo,</span> <span class="pre">bar,</span> <span class="pre">baz]]</span></code></li>
</ul>
<p>If multiple names are listed the subsequent settings apply to each.</p>
<p>All namespaces inherit initially from <em>root</em>, which can be
explicitly configured to provide or override default settings
for all tasks in the suite.</p>
<div class="section" id="runtime-name-extra-log-files">
<h4>15.1.5.1.1. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> extra log files<a class="headerlink" href="#runtime-name-extra-log-files" title="Permalink to this headline">¶</a></h4>
<p>A list of user-defined log files associated with a task. Files defined here
will appear alongside the default log files in the cylc GUI. Log files
must reside in the job log directory <code class="docutils literal notranslate"><span class="pre">$CYLC_TASK_LOG_DIR</span></code> and ideally
should be named using the <code class="docutils literal notranslate"><span class="pre">$CYLC_TASK_LOG_ROOT</span></code> prefix
(see <a class="reference internal" href="../suite-config.html#task-job-script-variables"><span class="std std-ref">Task Job Script Variables</span></a>).</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of strings (log file names).</li>
<li><em>default</em>: (none)</li>
<li><em>example</em>: (job.custom-log-name)</li>
</ul>
</div>
<div class="section" id="runtime-name-inherit">
<h4>15.1.5.1.2. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> inherit<a class="headerlink" href="#runtime-name-inherit" title="Permalink to this headline">¶</a></h4>
<p>A list of the immediate parent(s) this namespace inherits from. If no
parents are listed <code class="docutils literal notranslate"><span class="pre">root</span></code> is assumed.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of strings (parent namespace names).</li>
<li><em>default</em>: <code class="docutils literal notranslate"><span class="pre">root</span></code></li>
</ul>
</div>
<div class="section" id="runtime-name-init-script">
<h4>15.1.5.1.3. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> init-script<a class="headerlink" href="#runtime-name-init-script" title="Permalink to this headline">¶</a></h4>
<p>Custom script invoked by the task job script before the task execution
environment is configured - so it does not have access to any suite or task
environment variables. It can be an external command or script, or inlined
scripting. The original intention for this item was to allow remote tasks to
source login scripts to configure their access to cylc, but this should no
longer be necessary (see <a class="reference internal" href="../running-suites.html#howtasksgetaccesstocylc"><span class="std std-ref">Task Job Access To Cylc</span></a>). See also
<code class="docutils literal notranslate"><span class="pre">env-script</span></code>, <code class="docutils literal notranslate"><span class="pre">pre-script</span></code>, <code class="docutils literal notranslate"><span class="pre">script</span></code>,
<code class="docutils literal notranslate"><span class="pre">post-script</span></code>, <code class="docutils literal notranslate"><span class="pre">err-script</span></code>, <code class="docutils literal notranslate"><span class="pre">exit-script</span></code>.</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>default</em>: (none)</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">init-script</span> <span class="pre">=</span> <span class="pre">&quot;echo</span> <span class="pre">Hello</span> <span class="pre">World&quot;</span></code></li>
</ul>
</div>
<div class="section" id="runtime-name-env-script">
<h4>15.1.5.1.4. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> env-script<a class="headerlink" href="#runtime-name-env-script" title="Permalink to this headline">¶</a></h4>
<p>Custom script invoked by the task job script between the cylc-defined environment
(suite and task identity, etc.) and the user-defined task runtime environment -
so it has access to the cylc environment (and the task environment has
access to variables defined by this scripting). It can be an external command
or script, or inlined scripting. See also <code class="docutils literal notranslate"><span class="pre">init-script</span></code>,
<code class="docutils literal notranslate"><span class="pre">pre-script</span></code>, <code class="docutils literal notranslate"><span class="pre">script</span></code>, <code class="docutils literal notranslate"><span class="pre">post-script</span></code>,
<code class="docutils literal notranslate"><span class="pre">err-script</span></code>, and <code class="docutils literal notranslate"><span class="pre">exit-script</span></code>.</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>default</em>: (none)</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">env-script</span> <span class="pre">=</span> <span class="pre">&quot;echo</span> <span class="pre">Hello</span> <span class="pre">World&quot;</span></code></li>
</ul>
</div>
<div class="section" id="runtime-name-pre-script">
<h4>15.1.5.1.5. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> pre-script<a class="headerlink" href="#runtime-name-pre-script" title="Permalink to this headline">¶</a></h4>
<p>Custom script invoked by the task job script immediately before the <code class="docutils literal notranslate"><span class="pre">script</span></code>
item (just below). It can be an external command or script, or inlined scripting.
See also <code class="docutils literal notranslate"><span class="pre">init-script</span></code>, <code class="docutils literal notranslate"><span class="pre">env-script</span></code>,
<code class="docutils literal notranslate"><span class="pre">script</span></code>, <code class="docutils literal notranslate"><span class="pre">post-script</span></code>, <code class="docutils literal notranslate"><span class="pre">err-script</span></code>, and
<code class="docutils literal notranslate"><span class="pre">exit-script</span></code>.</p>
<ul>
<li><p class="first"><em>type</em>: string</p>
</li>
<li><p class="first"><em>default</em>: (none)</p>
</li>
<li><p class="first"><em>example</em>:</p>
<div class="highlight-cylc notranslate"><div class="highlight"><pre><span></span><span class="nv">pre-script </span><span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">  . $HOME/.profile</span>
<span class="s2">  echo Hello from suite ${CYLC_SUITE_NAME}!&quot;&quot;&quot;</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="runtime-name-script">
<h4>15.1.5.1.6. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> script<a class="headerlink" href="#runtime-name-script" title="Permalink to this headline">¶</a></h4>
<p>The main custom script invoked from the task job script. It can be an
external command or script, or inlined scripting. See also
<code class="docutils literal notranslate"><span class="pre">init-script</span></code>, <code class="docutils literal notranslate"><span class="pre">env-script</span></code>, <code class="docutils literal notranslate"><span class="pre">pre-script</span></code>,
<code class="docutils literal notranslate"><span class="pre">post-script</span></code>, <code class="docutils literal notranslate"><span class="pre">err-script</span></code>, and <code class="docutils literal notranslate"><span class="pre">exit-script</span></code>.</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>root default</em>: (none)</li>
</ul>
</div>
<div class="section" id="runtime-name-post-script">
<h4>15.1.5.1.7. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> post-script<a class="headerlink" href="#runtime-name-post-script" title="Permalink to this headline">¶</a></h4>
<p>Custom script invoked by the task job script immediately after the
<code class="docutils literal notranslate"><span class="pre">script</span></code> item (just above). It can be an external command or script,
or inlined scripting.  See also
<code class="docutils literal notranslate"><span class="pre">init-script</span></code>, <code class="docutils literal notranslate"><span class="pre">env-script</span></code>, <code class="docutils literal notranslate"><span class="pre">pre-script</span></code>,
<code class="docutils literal notranslate"><span class="pre">script</span></code>, <code class="docutils literal notranslate"><span class="pre">err-script</span></code>, and <code class="docutils literal notranslate"><span class="pre">exit-script</span></code>.</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>default</em>: (none)</li>
</ul>
</div>
<div class="section" id="runtime-name-err-script">
<h4>15.1.5.1.8. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> err-script<a class="headerlink" href="#runtime-name-err-script" title="Permalink to this headline">¶</a></h4>
<p>Custom script to be invoked at the end of the error trap, which is triggered
due to failure of a command in the task job script or trappable job kill. The
output of this will always be sent to STDERR and <code class="docutils literal notranslate"><span class="pre">$1</span></code> is set to the
name of the signal caught by the error trap. The script should be fast and use
very little system resource to ensure that the error trap can return quickly.
Companion of <code class="docutils literal notranslate"><span class="pre">exit-script</span></code>, which is executed on job success.
It can be an external command or script, or inlined scripting. See also
<code class="docutils literal notranslate"><span class="pre">init-script</span></code>, <code class="docutils literal notranslate"><span class="pre">env-script</span></code>, <code class="docutils literal notranslate"><span class="pre">pre-script</span></code>,
<code class="docutils literal notranslate"><span class="pre">script</span></code>, <code class="docutils literal notranslate"><span class="pre">post-script</span></code>, and <code class="docutils literal notranslate"><span class="pre">exit-script</span></code>.</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>default</em>: (none)</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">err-script</span> <span class="pre">=</span> <span class="pre">&quot;printenv</span> <span class="pre">FOO&quot;</span></code></li>
</ul>
</div>
<div class="section" id="runtime-name-exit-script">
<h4>15.1.5.1.9. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> exit-script<a class="headerlink" href="#runtime-name-exit-script" title="Permalink to this headline">¶</a></h4>
<p>Custom script invoked at the very end of <em>successful</em> job execution, just
before the job script exits. It should execute very quickly. Companion of
<code class="docutils literal notranslate"><span class="pre">err-script</span></code>, which is executed on job failure. It can be an external
command or script, or inlined scripting. See also <code class="docutils literal notranslate"><span class="pre">init-script</span></code>,
<code class="docutils literal notranslate"><span class="pre">env-script</span></code>, <code class="docutils literal notranslate"><span class="pre">pre-script</span></code>, <code class="docutils literal notranslate"><span class="pre">script</span></code>,
<code class="docutils literal notranslate"><span class="pre">post-script</span></code>, and <code class="docutils literal notranslate"><span class="pre">err-script</span></code>.</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>default</em>: (none)</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">exit-script</span> <span class="pre">=</span> <span class="pre">&quot;rm</span> <span class="pre">-f</span> <span class="pre">$TMP_FILES&quot;</span></code></li>
</ul>
</div>
<div class="section" id="runtime-name-work-sub-directory">
<span id="worksubdirectory"></span><h4>15.1.5.1.10. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> work sub-directory<a class="headerlink" href="#runtime-name-work-sub-directory" title="Permalink to this headline">¶</a></h4>
<p>Task job scripts are executed from within <em>work directories</em> created
automatically under the suite run directory. A task can get its own work
directory from <code class="docutils literal notranslate"><span class="pre">$CYLC_TASK_WORK_DIR</span></code> (or simply <code class="docutils literal notranslate"><span class="pre">$PWD</span></code> if
it does not <code class="docutils literal notranslate"><span class="pre">cd</span></code> elsewhere at runtime). The default directory
path contains task name and cycle point, to provide a unique workspace for
every instance of every task. If several tasks need to exchange files and
simply read and write from their from current working directory, this item
can be used to override the default to make them all use the same workspace.</p>
<p>The top level share and work directory location can be changed (e.g. to a
large data area) by a global config setting (see <a class="reference internal" href="site-user-config-ref.html#workdirectory"><span class="std std-ref">[hosts] -&gt; [[HOST]] -&gt; work directory</span></a>).</p>
<ul class="simple">
<li><em>type</em>: string (directory path, can contain environment variables)</li>
<li><em>default</em>: <code class="docutils literal notranslate"><span class="pre">$CYLC_TASK_CYCLE_POINT/$CYLC_TASK_NAME</span></code></li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">$CYLC_TASK_CYCLE_POINT/shared/</span></code></li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you omit cycle point from the work sub-directory path successive
instances of the task will share the same workspace. Consider the effect
on cycle point offset housekeeping of work directories before doing this.</p>
</div>
</div>
<div class="section" id="runtime-name-meta">
<h4>15.1.5.1.11. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[meta]]]<a class="headerlink" href="#runtime-name-meta" title="Permalink to this headline">¶</a></h4>
<p>Section containing metadata items for this task or family namespace.
Several items (title, description, URL) are pre-defined and are used by
the GUI. Others can be user-defined and passed to task event handlers to be
interpreted according to your needs. For example, the value of an
“importance” item could determine how an event handler responds to task
failure events.</p>
<p>Any suite meta item can now be passed to task event handlers by prefixing the
string template item name with “suite_”, for example:</p>
<div class="highlight-cylc notranslate"><div class="highlight"><pre><span></span><span class="nt">[runtime]</span>
    <span class="nt">[[root]]</span>
        <span class="nt">[[[events]]]</span>
            <span class="nv">failed handler </span><span class="o">=</span><span class="s"> send-help.sh %(suite_title)s %(suite_importance)s %(title)s</span>
</pre></div>
</div>
<div class="section" id="runtime-name-meta-title">
<h5>15.1.5.1.11.1. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[meta]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> title<a class="headerlink" href="#runtime-name-meta-title" title="Permalink to this headline">¶</a></h5>
<p>A single line description of this namespace. It is displayed by the
<code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">list</span></code> command and can be retrieved from running tasks
with the <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">show</span></code> command.</p>
<ul class="simple">
<li><em>type</em>: single line string</li>
<li><em>root default</em>: (none)</li>
</ul>
</div>
<div class="section" id="runtime-name-meta-description">
<h5>15.1.5.1.11.2. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[meta]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> description<a class="headerlink" href="#runtime-name-meta-description" title="Permalink to this headline">¶</a></h5>
<p>A multi-line description of this namespace, retrievable from running tasks with the
<code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">show</span></code> command.</p>
<ul class="simple">
<li><em>type</em>: multi-line string</li>
<li><em>root default</em>: (none)</li>
</ul>
</div>
<div class="section" id="runtime-name-meta-url">
<span id="taskurl"></span><h5>15.1.5.1.11.3. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[meta]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> URL<a class="headerlink" href="#runtime-name-meta-url" title="Permalink to this headline">¶</a></h5>
<p>A web URL to task documentation for this suite.  If present it can be browsed
with the <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">doc</span></code> command, or by right-clicking on the task in
gcylc. The string templates <code class="docutils literal notranslate"><span class="pre">%(suite_name)s</span></code> and
<code class="docutils literal notranslate"><span class="pre">%(task_name)s</span></code> will be replaced with the actual suite and task names.
See also <a class="reference internal" href="#suiteurl"><span class="std std-ref">[meta] -&gt; URL</span></a>.</p>
<ul>
<li><p class="first"><em>type</em>: string (URL)</p>
</li>
<li><p class="first"><em>default</em>: (none)</p>
</li>
<li><p class="first"><em>example</em>: you can set URLs to all tasks in a suite by putting
something like the following in the root namespace:</p>
<div class="highlight-cylc notranslate"><div class="highlight"><pre><span></span><span class="nt">[runtime]</span>
    <span class="nt">[[root]]</span>
        <span class="nt">[[[meta]]]</span>
            <span class="nv">URL </span><span class="o">=</span><span class="s"> http://my-site.com/suites/%(suite_name)s/%(task_name)s.html</span>
</pre></div>
</div>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">URLs containing the comment delimiter <code class="docutils literal notranslate"><span class="pre">#</span></code> must be protected by quotes.</p>
</div>
</div>
<div class="section" id="runtime-name-meta-many">
<h5>15.1.5.1.11.4. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[meta]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> __MANY__<a class="headerlink" href="#runtime-name-meta-many" title="Permalink to this headline">¶</a></h5>
<p>Replace <code class="docutils literal notranslate"><span class="pre">__MANY__</span></code> with any user-defined metadata item. These, like title,
URL, etc. can be passed to task event handlers to be interpreted according to your
needs. For example, the value of an “importance” item could determine how an event
handler responds to task failure events.</p>
<ul>
<li><p class="first"><em>type</em>: String or integer</p>
</li>
<li><p class="first"><em>default</em>: (none)</p>
</li>
<li><p class="first"><em>example</em>:</p>
<div class="highlight-cylc notranslate"><div class="highlight"><pre><span></span><span class="nt">[runtime]</span>
    <span class="nt">[[root]]</span>
        <span class="nt">[[[meta]]]</span>
            <span class="nv">importance </span><span class="o">=</span><span class="s"> high</span>
            <span class="nv">color </span><span class="o">=</span><span class="s"> red</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="runtime-name-job">
<h4>15.1.5.1.12. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[job]]]<a class="headerlink" href="#runtime-name-job" title="Permalink to this headline">¶</a></h4>
<p>This section configures the means by which cylc submits task job scripts
to run.</p>
<div class="section" id="runtime-name-job-batch-system">
<span id="runtimejobsubmethods"></span><h5>15.1.5.1.12.1. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[job]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> batch system<a class="headerlink" href="#runtime-name-job-batch-system" title="Permalink to this headline">¶</a></h5>
<p>See <a class="reference internal" href="../task-job-submission.html#taskjobsubmission"><span class="std std-ref">Task Job Submission and Management</span></a> for how job submission works, and how to define
new handlers for different batch systems. Cylc has a number of built in batch
system handlers:</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>legal values</em>:<ul>
<li><code class="docutils literal notranslate"><span class="pre">background</span></code> - invoke a child process</li>
<li><code class="docutils literal notranslate"><span class="pre">at</span></code> - the rudimentary Unix <code class="docutils literal notranslate"><span class="pre">at</span></code> scheduler</li>
<li><code class="docutils literal notranslate"><span class="pre">loadleveler</span></code> - IBM LoadLeveler <code class="docutils literal notranslate"><span class="pre">llsubmit</span></code>, with directives
defined in the suite.rc file</li>
<li><code class="docutils literal notranslate"><span class="pre">lsf</span></code> - IBM Platform LSF <code class="docutils literal notranslate"><span class="pre">bsub</span></code>, with directives defined in the
suite.rc file</li>
<li><code class="docutils literal notranslate"><span class="pre">pbs</span></code> - PBS <code class="docutils literal notranslate"><span class="pre">qsub</span></code>, with directives defined in the suite.rc file</li>
<li><code class="docutils literal notranslate"><span class="pre">sge</span></code> - Sun Grid Engine <code class="docutils literal notranslate"><span class="pre">qsub</span></code>, with directives defined in the
suite.rc file</li>
<li><code class="docutils literal notranslate"><span class="pre">slurm</span></code> - Simple Linux Utility for Resource Management <code class="docutils literal notranslate"><span class="pre">sbatch</span></code>, with
directives defined in the suite.rc file</li>
<li><code class="docutils literal notranslate"><span class="pre">moab</span></code> - Moab workload manager <code class="docutils literal notranslate"><span class="pre">msub</span></code>, with directives defined in the
suite.rc file</li>
</ul>
</li>
<li><em>default</em>: <code class="docutils literal notranslate"><span class="pre">background</span></code></li>
</ul>
</div>
<div class="section" id="runtime-name-job-execution-time-limit">
<h5>15.1.5.1.12.2. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[job]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> execution time limit<a class="headerlink" href="#runtime-name-job-execution-time-limit" title="Permalink to this headline">¶</a></h5>
<p>Specify the execution wall clock limit for a job of the task.
For <code class="docutils literal notranslate"><span class="pre">background</span></code> and <code class="docutils literal notranslate"><span class="pre">at</span></code>, the job script will be invoked using the <code class="docutils literal notranslate"><span class="pre">timeout</span></code>
command. For other batch systems, the specified time will be automatically
translated into the equivalent directive for wall clock limit.</p>
<p>Tasks are polled multiple times, where necessary, when they exceed their
execution time limits. (See <a class="reference internal" href="site-user-config-ref.html#executiontimelimitpollingintervals"><span class="std std-ref">[hosts] -&gt; [[HOST]] -&gt; [[[batch systems]]] -&gt; [[[[SYSTEM]]]] -&gt; execution time limit polling intervals</span></a> for
how to configure the polling intervals).</p>
<blockquote>
<div><ul class="simple">
<li><em>type</em>: ISO 8601 duration/interval representation</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">PT5M</span></code>, 5 minutes, <code class="docutils literal notranslate"><span class="pre">PT1H</span></code>, 1 hour</li>
<li><em>default</em>: (none)</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="runtime-name-job-batch-submit-command-template">
<h5>15.1.5.1.12.3. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[job]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> batch submit command template<a class="headerlink" href="#runtime-name-job-batch-submit-command-template" title="Permalink to this headline">¶</a></h5>
<p>This allows you to override the actual command used by the chosen batch
system. The template’s <code class="docutils literal notranslate"><span class="pre">\%(job)s</span></code> will be substituted by the
job file path.</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>legal values</em>: a string template</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">llsubmit</span> <span class="pre">\%(job)s</span></code></li>
</ul>
</div>
<div class="section" id="runtime-name-job-shell">
<span id="jobsubshell"></span><h5>15.1.5.1.12.4. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[job]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> shell<a class="headerlink" href="#runtime-name-job-shell" title="Permalink to this headline">¶</a></h5>
<p>Location of the command used to interpret the job script submitted by the suite
server program when a task is ready to run. This can be set to the location of
<code class="docutils literal notranslate"><span class="pre">bash</span></code> in the job host if the shell is not installed in the standard
location.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It has no bearing on any sub-shells that may be called by the job script.</p>
</div>
<p>Setting this to the path of a ksh93 interpreter is deprecated. Support of which
will be withdrawn in a future cylc release. Setting this to any other shell is
not supported.</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>root default</em>: <code class="docutils literal notranslate"><span class="pre">/bin/bash</span></code></li>
</ul>
</div>
<div class="section" id="runtime-name-job-submission-retry-delays">
<span id="jobsubrefretries"></span><h5>15.1.5.1.12.5. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[job]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> submission retry delays<a class="headerlink" href="#runtime-name-job-submission-retry-delays" title="Permalink to this headline">¶</a></h5>
<p>A list of duration (in ISO 8601 syntax), after which to resubmit if job
submission fails.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of ISO 8601 duration/interval
representations, optionally <em>preceded</em> by multipliers.</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">PT1M,3*PT1H,</span> <span class="pre">P1D</span></code> is equivalent to
<code class="docutils literal notranslate"><span class="pre">PT1M,</span> <span class="pre">PT1H,</span> <span class="pre">PT1H,</span> <span class="pre">PT1H,</span> <span class="pre">P1D</span></code> - 1 minute, 1 hour, 1 hour, 1
hour, 1 day.</li>
<li><em>default</em>: (none)</li>
</ul>
</div>
<div class="section" id="runtime-name-job-execution-retry-delays">
<span id="refretries"></span><h5>15.1.5.1.12.6. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[job]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> execution retry delays<a class="headerlink" href="#runtime-name-job-execution-retry-delays" title="Permalink to this headline">¶</a></h5>
<p>See also <a class="reference internal" href="../running-suites.html#taskretries"><span class="std std-ref">Automatic Task Retry On Failure</span></a>.</p>
<p>A list of ISO 8601 time duration/intervals after which to resubmit the task
if it fails. The variable <code class="docutils literal notranslate"><span class="pre">$CYLC_TASK_TRY_NUMBER</span></code> in the task
execution environment is incremented each time, starting from 1 for the
first try - this can be used to vary task behaviour by try number.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of ISO 8601 duration/interval representations,
optionally <em>preceded</em> by multipliers.</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">PT1.5M,3*PT10M</span></code> is equivalent to
<code class="docutils literal notranslate"><span class="pre">PT1.5M,</span> <span class="pre">PT10M,</span> <span class="pre">PT10M,</span> <span class="pre">PT10M</span></code> - 1.5 minutes, 10 minutes, 10 minutes, 10 minutes.</li>
<li><em>default</em>: (none)</li>
</ul>
</div>
<div class="section" id="runtime-name-job-submission-polling-intervals">
<span id="submissionpollingintervals"></span><h5>15.1.5.1.12.7. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[job]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> submission polling intervals<a class="headerlink" href="#runtime-name-job-submission-polling-intervals" title="Permalink to this headline">¶</a></h5>
<p>A list of intervals, expressed as ISO 8601 duration/intervals, with optional
multipliers, after which cylc will poll for status while the task is in the
submitted state.</p>
<p>For the polling task communication method this overrides the default
submission polling interval in the site/user config files
(<a class="reference internal" href="../global-site-user-conf.html#siteanduserconfiguration"><span class="std std-ref">Global (Site, User) Configuration Files</span></a>). For default and ssh task communications,
polling is not done by default but it can still be configured here as a
regular check on the health of submitted tasks.</p>
<p>Each list value is used in turn until the last, which is used repeatedly
until finished.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of ISO 8601 duration/interval
representations, optionally <em>preceded</em> by multipliers.</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">PT1M,3*PT1H,</span> <span class="pre">PT1M</span></code> is equivalent to
<code class="docutils literal notranslate"><span class="pre">PT1M,</span> <span class="pre">PT1H,</span> <span class="pre">PT1H,</span> <span class="pre">PT1H,</span> <span class="pre">PT1M</span></code> - 1 minute, 1 hour, 1 hour, 1
hour, 1 minute.</li>
<li><em>default</em>: (none)</li>
</ul>
<p>A single interval value is probably appropriate for submission polling.</p>
</div>
<div class="section" id="runtime-name-job-execution-polling-intervals">
<span id="executionpollingintervals"></span><h5>15.1.5.1.12.8. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[job]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> execution polling intervals<a class="headerlink" href="#runtime-name-job-execution-polling-intervals" title="Permalink to this headline">¶</a></h5>
<p>A list of intervals, expressed as ISO 8601 duration/intervals, with optional
multipliers, after which cylc will poll for status while the task is in the
running state.</p>
<p>For the polling task communication method this overrides the default
execution polling interval in the site/user config files
(<a class="reference internal" href="../global-site-user-conf.html#siteanduserconfiguration"><span class="std std-ref">Global (Site, User) Configuration Files</span></a>). For default and ssh task communications,
polling is not done by default but it can still be configured here as a
regular check on the health of submitted tasks.</p>
<p>Each list value is used in turn until the last, which is used repeatedly
until finished.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of ISO 8601 duration/interval
representations, optionally <em>preceded</em> by multipliers.</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">PT1M,3*PT1H,</span> <span class="pre">PT1M</span></code> is equivalent to
<code class="docutils literal notranslate"><span class="pre">PT1M,</span> <span class="pre">PT1H,</span> <span class="pre">PT1H,</span> <span class="pre">PT1H,</span> <span class="pre">PT1M</span></code> - 1 minute, 1 hour, 1 hour, 1
hour, 1 minute.</li>
<li><em>default</em>: (none)</li>
</ul>
</div>
</div>
<div class="section" id="runtime-name-remote">
<h4>15.1.5.1.13. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[remote]]]<a class="headerlink" href="#runtime-name-remote" title="Permalink to this headline">¶</a></h4>
<p>Configure host and username, for tasks that do not run on the suite host
account. Non-interactive ssh is used to submit the task by the configured
batch system, so you must distribute your ssh key to allow
this. Cylc must be installed on task remote accounts, but no external
software dependencies are required there.</p>
<div class="section" id="runtime-name-remote-host">
<span id="dynamichostselection"></span><h5>15.1.5.1.13.1. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[remote]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> host<a class="headerlink" href="#runtime-name-remote-host" title="Permalink to this headline">¶</a></h5>
<p>The remote host for this namespace. This can be a static hostname, an
environment variable that holds a hostname, or a command that prints a
hostname to stdout. Host selection commands are executed just prior to
job submission. The host (static or dynamic) may have an entry in the
cylc site or user config file to specify parameters such as the location
of cylc on the remote machine; if not, the corresponding local settings
(on the suite host) will be assumed to apply on the remote host.</p>
<ul class="simple">
<li><em>type</em>: string (a valid hostname on the network)</li>
<li><em>default</em>: (none)</li>
<li><em>examples</em>:<ul>
<li>static host name: <code class="docutils literal notranslate"><span class="pre">host</span> <span class="pre">=</span> <span class="pre">foo</span></code></li>
<li>fully qualified: <code class="docutils literal notranslate"><span class="pre">host</span> <span class="pre">=</span> <span class="pre">foo.bar.baz</span></code></li>
<li>dynamic host selection:<ul>
<li>shell command (1): <code class="docutils literal notranslate"><span class="pre">host</span> <span class="pre">=</span> <span class="pre">$(host-selector.sh)</span></code></li>
<li>shell command (2): <code class="docutils literal notranslate"><span class="pre">host</span> <span class="pre">=</span> <span class="pre">\`host-selector.sh\`</span></code></li>
<li>environment variable: <code class="docutils literal notranslate"><span class="pre">host</span> <span class="pre">=</span> <span class="pre">$MY_HOST</span></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="runtime-name-remote-owner">
<h5>15.1.5.1.13.2. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[remote]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> owner<a class="headerlink" href="#runtime-name-remote-owner" title="Permalink to this headline">¶</a></h5>
<p>The username of the task host account. This is (only) used in the
non-interactive ssh command invoked by the suite server program to submit the
remote task (consequently it may be defined using local environment variables
(i.e. the shell in which cylc runs, and <code class="docutils literal notranslate"><span class="pre">[cylc]</span> <span class="pre">-&gt;</span> <span class="pre">[[environment]]</span></code>).</p>
<p>If you use dynamic host selection and have different usernames on
the different selectable hosts, you can configure your
<code class="docutils literal notranslate"><span class="pre">$HOME/.ssh/config</span></code> to handle username translation.</p>
<ul class="simple">
<li><em>type</em>: string (a valid username on the remote host)</li>
<li><em>default</em>: (none)</li>
</ul>
</div>
<div class="section" id="runtime-name-remote-retrieve-job-logs">
<span id="runtime-remote-retrieve-job-logs"></span><h5>15.1.5.1.13.3. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[remote]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> retrieve job logs<a class="headerlink" href="#runtime-name-remote-retrieve-job-logs" title="Permalink to this headline">¶</a></h5>
<p>Remote task job logs are saved to the suite run directory on the task host, not
on the suite host. If you want the job logs pulled back to the suite host
automatically, you can set this item to <code class="docutils literal notranslate"><span class="pre">True</span></code>. The suite will
then attempt to <code class="docutils literal notranslate"><span class="pre">rsync</span></code> the job logs once from the remote host each
time a task job completes. E.g. if the job file is
<code class="docutils literal notranslate"><span class="pre">~/cylc-run/tut.oneoff.remote/log/job/1/hello/01/job</span></code>, anything under
<code class="docutils literal notranslate"><span class="pre">~/cylc-run/tut.oneoff.remote/log/job/1/hello/01/</span></code> will be retrieved.</p>
<ul class="simple">
<li><em>type</em>: boolean</li>
<li><em>default</em>: False</li>
</ul>
</div>
<div class="section" id="runtime-name-remote-retrieve-job-logs-max-size">
<span id="runtime-remote-retrieve-job-logs-max-size"></span><h5>15.1.5.1.13.4. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[remote]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> retrieve job logs max size<a class="headerlink" href="#runtime-name-remote-retrieve-job-logs-max-size" title="Permalink to this headline">¶</a></h5>
<p>If the disk space of the suite host is limited, you may want to set the maximum
sizes of the job log files to retrieve. The value can be anything that is
accepted by the <code class="docutils literal notranslate"><span class="pre">--max-size=SIZE</span></code> option of the <code class="docutils literal notranslate"><span class="pre">rsync</span></code> command.</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>default</em>: None</li>
</ul>
</div>
<div class="section" id="runtime-name-remote-retrieve-job-logs-retry-delays">
<span id="runtime-remote-retrieve-job-logs-retry-delays"></span><h5>15.1.5.1.13.5. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[remote]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> retrieve job logs retry delays<a class="headerlink" href="#runtime-name-remote-retrieve-job-logs-retry-delays" title="Permalink to this headline">¶</a></h5>
<p>Some batch systems have considerable delays between the time when the job
completes and when it writes the job logs in its normal location. If this is
the case, you can configure an initial delay and some retry delays between
subsequent attempts. The default behaviour is to attempt once without any delay.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of ISO 8601 duration/interval representations, optionally
<em>preceded</em> by multipliers.</li>
<li><em>default</em>: (none)</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">retrieve</span> <span class="pre">job</span> <span class="pre">logs</span> <span class="pre">retry</span> <span class="pre">delays</span> <span class="pre">=</span> <span class="pre">PT10S,</span> <span class="pre">PT1M,</span> <span class="pre">PT5M</span></code></li>
</ul>
</div>
<div class="section" id="runtime-name-remote-suite-definition-directory">
<h5>15.1.5.1.13.6. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[remote]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code>  suite definition directory<a class="headerlink" href="#runtime-name-remote-suite-definition-directory" title="Permalink to this headline">¶</a></h5>
<p>The path to the suite configuration directory on the remote account, needed if
remote tasks require access to files stored there (via
<code class="docutils literal notranslate"><span class="pre">$CYLC_SUITE_DEF_PATH</span></code>) or in the suite bin directory (via
<code class="docutils literal notranslate"><span class="pre">$PATH</span></code>).  If this item is not defined, the local suite
configuration directory path will be assumed, with the suite owner’s home
directory, if present, replaced by <code class="docutils literal notranslate"><span class="pre">'$HOME'</span></code> for
interpretation on the remote account.</p>
<ul class="simple">
<li><em>type</em>: string (a valid directory path on the remote account)</li>
<li><em>default</em>: (local suite configuration path with <code class="docutils literal notranslate"><span class="pre">$HOME</span></code> replaced)</li>
</ul>
</div>
</div>
<div class="section" id="runtime-name-events">
<span id="taskeventhandling"></span><h4>15.1.5.1.14. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[events]]]<a class="headerlink" href="#runtime-name-events" title="Permalink to this headline">¶</a></h4>
<p>Cylc can call nominated event handlers when certain task events occur. This
section configures specific task event handlers; see <a class="reference internal" href="#suiteeventhandling"><span class="std std-ref">[cylc] -&gt; [[events]]</span></a>
for suite events.</p>
<p>Event handlers can be located in the suite <code class="docutils literal notranslate"><span class="pre">bin/</span></code> directory,
otherwise it is up to you to ensure their location is in <code class="docutils literal notranslate"><span class="pre">$PATH</span></code> (in
the shell in which the suite server program runs). They should require little
resource to run and return quickly.</p>
<p>Each task event handler can be specified as a list of command lines or command
line templates. They can contain any or all of the following patterns, which
will be substituted with actual values:</p>
<ul class="simple">
<li>%(event)s: event name</li>
<li>%(suite)s: suite name</li>
<li>%(suite_uuid)s: suite UUID string</li>
<li>%(point)s: cycle point</li>
<li>%(name)s: task name</li>
<li>%(submit_num)s: submit number</li>
<li>%(try_num)s: try number</li>
<li>%(id)s: task ID (i.e. %(name)s.%(point)s)</li>
<li>%(batch_sys_name)s: batch system name</li>
<li>%(batch_sys_job_id)s: batch system job ID</li>
<li>%(message)s: event message, if any</li>
<li>any task [meta] item, e.g.:
- %(title)s: task title
- %(URL)s: task URL
- %(importance)s - example custom task metadata</li>
<li>any suite [meta] item, prefixed with “suite_”, e.g.:
- %(suite_title)s: suite title
- %(suite_URL)s: suite URL
- %(suite_rating)s - example custom suite metadata</li>
</ul>
<p>Otherwise, the command line will be called with the following default
arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;task-event-handler&gt; %(event)s %(suite)s %(id)s %(message)s
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Substitution patterns should not be quoted in the template strings.
This is done automatically where required.</p>
</div>
<p>For an explanation of the substitution syntax, see
<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#string-formatting">String Formatting Operations in the Python
documentation</a>.</p>
<p>Additional information can be passed to event handlers via the
<code class="docutils literal notranslate"><span class="pre">[cylc]</span> <span class="pre">-&gt;</span> <span class="pre">[[environment]]</span></code> (but not via task
runtime environments - event handlers are not called by tasks).</p>
<div class="section" id="runtime-name-events-event-handler">
<h5>15.1.5.1.14.1. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[events]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> EVENT handler<a class="headerlink" href="#runtime-name-events-event-handler" title="Permalink to this headline">¶</a></h5>
<p>A list of one or more event handlers to call when one of the following EVENTs occurs:</p>
<ul class="simple">
<li><strong>submitted</strong> - the job submit command was successful</li>
<li><strong>submission failed</strong> - the job submit command failed, or the
submitted job was killed before it started executing</li>
<li><strong>submission retry</strong> - job submit failed, but cylc will resubmit it
after a configured delay</li>
<li><strong>submission timeout</strong> - the submitted job timed out without commencing execution</li>
<li><strong>started</strong> - the task reported commencement of execution</li>
<li><strong>succeeded</strong> - the task reported that it completed successfully</li>
<li><strong>failed</strong> - the task reported that if tailed to complete successfully</li>
<li><strong>retry</strong> - the task failed, but cylc will resubmit it
after a configured delay</li>
<li><strong>execution timeout</strong> - the task timed out after execution commenced</li>
<li><strong>warning</strong> - the task reported a WARNING severity message</li>
<li><strong>critical</strong> - the task reported a CRITICAL severity message</li>
<li><strong>custom</strong> - the task reported a CUSTOM severity message</li>
<li><strong>late</strong> - the task is never active and is late</li>
</ul>
<p>Item details:
- <em>type</em>: Comma-separated list of strings (event handler scripts).
- <em>default</em>: None
- <em>example</em>: <code class="docutils literal notranslate"><span class="pre">failed</span> <span class="pre">handler</span> <span class="pre">=</span> <span class="pre">my-failed-handler.sh</span></code></p>
</div>
<div class="section" id="runtime-name-events-submission-timeout">
<span id="runtime-event-hooks-submission-timeout"></span><h5>15.1.5.1.14.2. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[events]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> submission timeout<a class="headerlink" href="#runtime-name-events-submission-timeout" title="Permalink to this headline">¶</a></h5>
<p>If a task has not started after the specified ISO 8601 duration/interval, the
<em>submission timeout</em> event handler(s) will be called.</p>
<ul class="simple">
<li><em>type</em>: ISO 8601 duration/interval representation (e.g.
<code class="docutils literal notranslate"><span class="pre">PT30M</span></code>, 30 minutes or <code class="docutils literal notranslate"><span class="pre">P1D</span></code>, 1 day).</li>
<li><em>default</em>: (none)</li>
</ul>
</div>
<div class="section" id="runtime-name-events-execution-timeout">
<span id="runtime-event-hooks-execution-timeout"></span><h5>15.1.5.1.14.3. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[events]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> execution timeout<a class="headerlink" href="#runtime-name-events-execution-timeout" title="Permalink to this headline">¶</a></h5>
<p>If a task has not finished after the specified ISO 8601 duration/interval, the
<em>execution timeout</em> event handler(s) will be called.</p>
<ul class="simple">
<li><em>type</em>: ISO 8601 duration/interval representation (e.g.
<code class="docutils literal notranslate"><span class="pre">PT4H</span></code>, 4 hours or <code class="docutils literal notranslate"><span class="pre">P1D</span></code>, 1 day).</li>
<li><em>default</em>: (none)</li>
</ul>
</div>
<div class="section" id="runtime-name-events-handlers">
<h5>15.1.5.1.14.4. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[events]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> handlers<a class="headerlink" href="#runtime-name-events-handlers" title="Permalink to this headline">¶</a></h5>
<p>Specify a list of command lines or command line templates as task event handlers.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of strings (event handler command line or command
line templates).</li>
<li><em>default</em>: (none)</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">handlers</span> <span class="pre">=</span> <span class="pre">my-handler.sh</span></code></li>
</ul>
</div>
<div class="section" id="runtime-name-events-handler-events">
<h5>15.1.5.1.14.5. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[events]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> handler events<a class="headerlink" href="#runtime-name-events-handler-events" title="Permalink to this headline">¶</a></h5>
<p>Specify the events for which the general task event handlers should be invoked.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of events</li>
<li><em>default</em>: (none)</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">handler</span> <span class="pre">events</span> <span class="pre">=</span> <span class="pre">submission</span> <span class="pre">failed,</span> <span class="pre">failed</span></code></li>
</ul>
</div>
<div class="section" id="runtime-name-events-handler-retry-delays">
<span id="runtime-events-handler-retry-delays"></span><h5>15.1.5.1.14.6. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[events]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> handler retry delays<a class="headerlink" href="#runtime-name-events-handler-retry-delays" title="Permalink to this headline">¶</a></h5>
<p>Specify an initial delay before running an event handler command and any retry
delays in case the command returns a non-zero code. The default behaviour is to
run an event handler command once without any delay.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of ISO 8601 duration/interval representations,
optionally <em>preceded</em> by multipliers.</li>
<li><em>default</em>: (none)</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">handler</span> <span class="pre">retry</span> <span class="pre">delays</span> <span class="pre">=</span> <span class="pre">PT10S,</span> <span class="pre">PT1M,</span> <span class="pre">PT5M</span></code></li>
</ul>
</div>
<div class="section" id="runtime-name-events-mail-events">
<h5>15.1.5.1.14.7. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[events]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> mail events<a class="headerlink" href="#runtime-name-events-mail-events" title="Permalink to this headline">¶</a></h5>
<p>Specify the events for which notification emails should be sent.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of events</li>
<li><em>default</em>: (none)</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">mail</span> <span class="pre">events</span> <span class="pre">=</span> <span class="pre">submission</span> <span class="pre">failed,</span> <span class="pre">failed</span></code></li>
</ul>
</div>
<div class="section" id="runtime-name-events-mail-from">
<h5>15.1.5.1.14.8. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[events]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> mail from<a class="headerlink" href="#runtime-name-events-mail-from" title="Permalink to this headline">¶</a></h5>
<p>Specify an alternate <code class="docutils literal notranslate"><span class="pre">from:</span></code> email address for event notifications.</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>default</em>: None, (<a class="reference external" href="mailto:notifications&#37;&#52;&#48;HOSTNAME">notifications<span>&#64;</span>HOSTNAME</a>)</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">mail</span> <span class="pre">from</span> <span class="pre">=</span> <span class="pre">no-reply&#64;your-org</span></code></li>
</ul>
</div>
<div class="section" id="runtime-name-events-mail-retry-delays">
<h5>15.1.5.1.14.9. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[events]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> mail retry delays<a class="headerlink" href="#runtime-name-events-mail-retry-delays" title="Permalink to this headline">¶</a></h5>
<p>Specify an initial delay before running the mail notification command and any
retry delays in case the command returns a non-zero code. The default behaviour
is to run the mail notification command once without any delay.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of ISO 8601 duration/interval representations,
optionally <em>preceded</em> by multipliers.</li>
<li><em>default</em>: (none)</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">mail</span> <span class="pre">retry</span> <span class="pre">delays</span> <span class="pre">=</span> <span class="pre">PT10S,</span> <span class="pre">PT1M,</span> <span class="pre">PT5M</span></code></li>
</ul>
</div>
<div class="section" id="runtime-name-events-mail-smtp">
<h5>15.1.5.1.14.10. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[events]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> mail smtp<a class="headerlink" href="#runtime-name-events-mail-smtp" title="Permalink to this headline">¶</a></h5>
<p>Specify the SMTP server for sending email notifications.</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>default</em>: None, (localhost:25)</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">mail</span> <span class="pre">smtp</span> <span class="pre">=</span> <span class="pre">smtp.yourorg</span></code></li>
</ul>
</div>
<div class="section" id="runtime-name-events-mail-to">
<h5>15.1.5.1.14.11. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[events]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> mail to<a class="headerlink" href="#runtime-name-events-mail-to" title="Permalink to this headline">¶</a></h5>
<p>A list of email addresses to send task event notifications. The list can be
anything accepted by the <code class="docutils literal notranslate"><span class="pre">mail</span></code> command.</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>default</em>: None, (<a class="reference external" href="mailto:USER&#37;&#52;&#48;HOSTNAME">USER<span>&#64;</span>HOSTNAME</a>)</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">mail</span> <span class="pre">to</span> <span class="pre">=</span> <span class="pre">your.colleague</span></code></li>
</ul>
</div>
</div>
<div class="section" id="runtime-name-environment">
<h4>15.1.5.1.15. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[environment]]]<a class="headerlink" href="#runtime-name-environment" title="Permalink to this headline">¶</a></h4>
<p>The user defined task execution environment. Variables defined here can
refer to cylc suite and task identity variables, which are exported
earlier in the task job script, and variable assignment expressions can
use cylc utility commands because access to cylc is also configured
earlier in the script.  See also <a class="reference internal" href="../suite-config.html#taskexecutionenvironment"><span class="std std-ref">Task Execution Environment</span></a>.</p>
<p>You can also specify job environment templates here for <em>parameterized tasks</em>
(see <a class="reference internal" href="../suite-config.html#parameterized-tasks-label"><span class="std std-ref">Parameterized Tasks</span></a>).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Prior to Cylc 7.8.7 (or prior to 7.9.2 if using the 7.9.x releases),
parameter environment templates were in a separate section. However, this
was changed to allow users to control the order of definition of the
variables.</p>
</div>
<div class="section" id="runtime-name-environment-variable">
<span id="appendixtaskexecutionenvironment"></span><h5>15.1.5.1.15.1. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[environment]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> __VARIABLE__<a class="headerlink" href="#runtime-name-environment-variable" title="Permalink to this headline">¶</a></h5>
<p>Replace <code class="docutils literal notranslate"><span class="pre">__VARIABLE__</span></code> with any number of environment variable
assignment expressions. Order of definition is preserved so values can
refer to previously defined variables. Values are passed through to the task
job script without evaluation or manipulation by Cylc (with the exception of
valid Python string templates that match parameterized tasks - see below), so
any variable assignment expression that is legal in the job submission shell
can be used. White space around the <code class="docutils literal notranslate"><span class="pre">=</span></code> is allowed (as far as cylc’s suite.rc
parser is concerned these are just normal configuration items).</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>default</em>: (none)</li>
<li><em>legal values</em>: depends to some extent on the task job
submission shell (<a class="reference internal" href="#jobsubshell"><span class="std std-ref">[runtime] -&gt; [[__NAME__]] -&gt; [[[job]]] -&gt; shell</span></a>).</li>
<li><em>examples</em>, for the bash shell:<ul>
<li><code class="docutils literal notranslate"><span class="pre">FOO</span> <span class="pre">=</span> <span class="pre">$HOME/bar/baz</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">BAR</span> <span class="pre">=</span> <span class="pre">${FOO}$GLOBALVAR</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">BAZ</span> <span class="pre">=</span> <span class="pre">$(</span> <span class="pre">echo</span> <span class="pre">&quot;hello</span> <span class="pre">world&quot;</span> <span class="pre">)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">WAZ</span> <span class="pre">=</span> <span class="pre">${FOO%.jpg}.png</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">NEXT_CYCLE</span> <span class="pre">=</span> <span class="pre">$(</span> <span class="pre">cylc</span> <span class="pre">cycle-point</span> <span class="pre">--offset=PT6H</span> <span class="pre">)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">PREV_CYCLE</span> <span class="pre">=</span> <span class="pre">\`cylc</span> <span class="pre">cycle-point</span> <span class="pre">--offset=-PT6H`</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">ZAZ</span> <span class="pre">=</span> <span class="pre">&quot;${FOO#bar}&quot;</span> <span class="pre">#</span> <span class="pre">&lt;--</span> <span class="pre">QUOTED</span> <span class="pre">to</span> <span class="pre">escape</span> <span class="pre">the</span> <span class="pre">suite.rc</span> <span class="pre">comment</span> <span class="pre">character</span></code></li>
</ul>
</li>
</ul>
<p>To use parameter environment templates, replace <code class="docutils literal notranslate"><span class="pre">__VARIABLE__</span></code> with pairs of
environment variable name and Python string template for parameter
substitution. This is only relevant for <em>parameterized tasks</em> - see
<a class="reference internal" href="../suite-config.html#parameterized-tasks-label"><span class="std std-ref">Parameterized Tasks</span></a>.</p>
<p>If specified, the job script will export the named variables specified
here (in addition to the standard <code class="docutils literal notranslate"><span class="pre">CYLC_TASK_PARAM_&lt;key&gt;</span></code>
variables), with the template strings substituted with the parameter values.</p>
<ul class="simple">
<li><em>examples</em>, for the bash shell:<ul>
<li><code class="docutils literal notranslate"><span class="pre">MYNUM</span> <span class="pre">=</span> <span class="pre">%(i)d</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">MYITEM</span> <span class="pre">=</span> <span class="pre">%(item)s</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">MYFILE</span> <span class="pre">=</span> <span class="pre">/path/to/%(i)03d/%(item)s</span></code></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="runtime-name-environment-filter">
<span id="environmentfilter"></span><h4>15.1.5.1.16. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[environment filter]]]<a class="headerlink" href="#runtime-name-environment-filter" title="Permalink to this headline">¶</a></h4>
<p>This section contains environment variable inclusion and exclusion
lists that can be used to filter the inherited environment. <em>This is
not intended as an alternative to a well-designed inheritance hierarchy
that provides each task with just the variables it needs.</em> Filters can,
however, improve suites with tasks that inherit a lot of environment
they don’t need, by making it clear which tasks use which variables.
They can optionally be used routinely as explicit “task environment
interfaces” too, at some cost to brevity, because they guarantee that
variables filtered out of the inherited task environment are not used.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Environment filtering is done after inheritance is completely
worked out, not at each level on the way, so filter lists in higher-level
namespaces only have an effect if they are not overridden by descendants.</p>
</div>
<div class="section" id="runtime-name-environment-filter-include">
<h5>15.1.5.1.16.1. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[environment filter]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> include<a class="headerlink" href="#runtime-name-environment-filter-include" title="Permalink to this headline">¶</a></h5>
<p>If given, only variables named in this list will be included from the
inherited environment, others will be filtered out. Variables may also
be explicitly excluded by an <code class="docutils literal notranslate"><span class="pre">exclude</span></code> list.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of strings (variable names).</li>
<li><em>default</em>: (none)</li>
</ul>
</div>
<div class="section" id="runtime-name-environment-filter-exclude">
<h5>15.1.5.1.16.2. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[environment filter]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> exclude<a class="headerlink" href="#runtime-name-environment-filter-exclude" title="Permalink to this headline">¶</a></h5>
<p>Variables named in this list will be filtered out of the inherited
environment.  Variables may also be implicitly excluded by
omission from an <code class="docutils literal notranslate"><span class="pre">include</span></code> list.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of strings (variable names).</li>
<li><em>default</em>: (none)</li>
</ul>
</div>
</div>
<div class="section" id="runtime-name-directives">
<h4>15.1.5.1.17. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[directives]]]<a class="headerlink" href="#runtime-name-directives" title="Permalink to this headline">¶</a></h4>
<p>Batch queue scheduler directives.  Whether or not these are used depends
on the batch system. For the built-in methods that support directives
(<code class="docutils literal notranslate"><span class="pre">loadleveler</span></code>, <code class="docutils literal notranslate"><span class="pre">lsf</span></code>, <code class="docutils literal notranslate"><span class="pre">pbs</span></code>, <code class="docutils literal notranslate"><span class="pre">sge</span></code>,
<code class="docutils literal notranslate"><span class="pre">slurm</span></code>, <code class="docutils literal notranslate"><span class="pre">moab</span></code>), directives are written to the top of the
task job script in the correct format for the method. Specifying directives
individually like this allows use of default directives that can be
individually overridden at lower levels of the runtime namespace hierarchy.</p>
<div class="section" id="runtime-name-directives-directive">
<h5>15.1.5.1.17.1. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[directives]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> __DIRECTIVE__<a class="headerlink" href="#runtime-name-directives-directive" title="Permalink to this headline">¶</a></h5>
<p>Replace <code class="docutils literal notranslate"><span class="pre">__DIRECTIVE__</span></code> with each directive assignment, e.g.
<code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">=</span> <span class="pre">parallel</span></code>.</p>
<ul class="simple">
<li><em>type</em>: string</li>
<li><em>default</em>: (none)</li>
</ul>
<p>Example directives for the built-in batch system handlers are shown
in <a class="reference internal" href="../task-job-submission.html#availablemethods"><span class="std std-ref">Supported Job Submission Methods</span></a>.</p>
</div>
</div>
<div class="section" id="runtime-name-outputs">
<h4>15.1.5.1.18. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[outputs]]]<a class="headerlink" href="#runtime-name-outputs" title="Permalink to this headline">¶</a></h4>
<p>Register custom task outputs for use in message triggering in this section
(<a class="reference internal" href="../suite-config.html#messagetriggers"><span class="std std-ref">Message Triggers</span></a>)</p>
<div class="section" id="runtime-name-outputs-output">
<h5>15.1.5.1.18.1. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[outputs]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> __OUTPUT__<a class="headerlink" href="#runtime-name-outputs-output" title="Permalink to this headline">¶</a></h5>
<p>Replace <code class="docutils literal notranslate"><span class="pre">__OUTPUT__</span></code> with one or more custom task output messages
(<a class="reference internal" href="../suite-config.html#messagetriggers"><span class="std std-ref">Message Triggers</span></a>).  The item name is used to select the custom output
message in graph trigger notation.</p>
<ul>
<li><p class="first"><em>type</em>: string</p>
</li>
<li><p class="first"><em>default</em>: (none)</p>
</li>
<li><p class="first"><em>examples</em>:</p>
<div class="highlight-cylc notranslate"><div class="highlight"><pre><span></span><span class="nv">out1 </span><span class="o">=</span><span class="s"> &quot;sea state products ready&quot;</span>
<span class="nv">out2 </span><span class="o">=</span><span class="s"> &quot;NWP restart files completed&quot;</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="runtime-name-suite-state-polling">
<h4>15.1.5.1.19. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[suite state polling]]]<a class="headerlink" href="#runtime-name-suite-state-polling" title="Permalink to this headline">¶</a></h4>
<p>Configure automatic suite polling tasks as described
in <a class="reference internal" href="../running-suites.html#suitestatepolling"><span class="std std-ref">Triggering Off Of Tasks In Other Suites</span></a>. The
items in this section reflect the options and defaults of the
<code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">suite-state</span></code> command, except that the target suite name and the
<code class="docutils literal notranslate"><span class="pre">--task</span></code>, <code class="docutils literal notranslate"><span class="pre">--cycle</span></code>, and <code class="docutils literal notranslate"><span class="pre">--status</span></code> options are
taken from the graph notation.</p>
<div class="section" id="runtime-name-suite-state-polling-run-dir">
<h5>15.1.5.1.19.1. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[suite state polling]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> run-dir<a class="headerlink" href="#runtime-name-suite-state-polling-run-dir" title="Permalink to this headline">¶</a></h5>
<p>For your own suites the run database location is determined by your
site/user config. For other suites, e.g. those owned by others, or
mirrored suite databases, use this item to specify the location
of the top level cylc run directory (the database should be a
suite-name sub-directory of this location).</p>
<ul class="simple">
<li><em>type</em>: string (a directory path on the target suite host)</li>
<li><em>default</em>: as configured by site/user config (for your own suites)</li>
</ul>
</div>
<div class="section" id="runtime-name-suite-state-polling-interval">
<h5>15.1.5.1.19.2. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[suite state polling]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> interval<a class="headerlink" href="#runtime-name-suite-state-polling-interval" title="Permalink to this headline">¶</a></h5>
<p>Polling interval expressed as an ISO 8601 duration/interval.</p>
<ul class="simple">
<li><em>type</em>: ISO 8601 duration/interval representation (e.g.
<code class="docutils literal notranslate"><span class="pre">PT10S</span></code>, 10 seconds, or <code class="docutils literal notranslate"><span class="pre">PT1M</span></code>, 1 minute).</li>
<li><em>default</em>: PT1M</li>
</ul>
</div>
<div class="section" id="runtime-name-suite-state-polling-max-polls">
<h5>15.1.5.1.19.3. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[suite state polling]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> max-polls<a class="headerlink" href="#runtime-name-suite-state-polling-max-polls" title="Permalink to this headline">¶</a></h5>
<p>The maximum number of polls before timing out and entering the “failed” state.</p>
<ul class="simple">
<li><em>type</em>: integer</li>
<li><em>default</em>: 10</li>
</ul>
</div>
<div class="section" id="runtime-name-suite-state-polling-user">
<h5>15.1.5.1.19.4. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[suite state polling]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> user<a class="headerlink" href="#runtime-name-suite-state-polling-user" title="Permalink to this headline">¶</a></h5>
<p>Username of an account on the suite host to which you have access. The
polling <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">suite-state</span></code> command will be invoked
on the remote account.</p>
<ul class="simple">
<li><em>type</em>: string (username)</li>
<li><em>default</em>: (none)</li>
</ul>
</div>
<div class="section" id="runtime-name-suite-state-polling-host">
<h5>15.1.5.1.19.5. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[suite state polling]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> host<a class="headerlink" href="#runtime-name-suite-state-polling-host" title="Permalink to this headline">¶</a></h5>
<p>The hostname of the target suite. The polling <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">suite-state</span></code> command
will be invoked on the remote account.</p>
<ul class="simple">
<li><em>type</em>: string (hostname)</li>
<li><em>default</em>: (none)</li>
</ul>
</div>
<div class="section" id="runtime-name-suite-state-polling-message">
<h5>15.1.5.1.19.6. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[suite state polling]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> message<a class="headerlink" href="#runtime-name-suite-state-polling-message" title="Permalink to this headline">¶</a></h5>
<p>Wait for the target task in the target suite to receive a specified message
rather than achieve a state.</p>
<ul class="simple">
<li><em>type</em>: string (the message)</li>
<li><em>default</em>: (none)</li>
</ul>
</div>
<div class="section" id="runtime-name-suite-state-polling-verbose">
<h5>15.1.5.1.19.7. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[suite state polling]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> verbose<a class="headerlink" href="#runtime-name-suite-state-polling-verbose" title="Permalink to this headline">¶</a></h5>
<p>Run the polling <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">suite-state</span></code> command in verbose output mode.</p>
<ul class="simple">
<li><em>type</em>: boolean</li>
<li><em>default</em>: False</li>
</ul>
</div>
</div>
<div class="section" id="runtime-name-simulation">
<span id="suiterc-sim-config"></span><h4>15.1.5.1.20. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[simulation]]]<a class="headerlink" href="#runtime-name-simulation" title="Permalink to this headline">¶</a></h4>
<p>Task configuration for the suite <em>simulation</em> and <em>dummy</em> run modes
described in <a class="reference internal" href="../running-suites.html#simulationmode"><span class="std std-ref">Simulating Suite Behaviour</span></a>.</p>
<div class="section" id="runtime-name-simulation-default-run-length">
<h5>15.1.5.1.20.1. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[simulation]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> default run length<a class="headerlink" href="#runtime-name-simulation-default-run-length" title="Permalink to this headline">¶</a></h5>
<p>The default simulated job run length, if <code class="docutils literal notranslate"><span class="pre">[job]execution</span> <span class="pre">time</span> <span class="pre">limit</span></code>
and <code class="docutils literal notranslate"><span class="pre">[simulation]speedup</span> <span class="pre">factor</span></code> are not set.</p>
<ul class="simple">
<li><em>type</em>: ISO 8601 duration/interval representation (e.g.
<code class="docutils literal notranslate"><span class="pre">PT10S</span></code>, 10 seconds, or <code class="docutils literal notranslate"><span class="pre">PT1M</span></code>, 1 minute).</li>
<li><em>default</em>: <code class="docutils literal notranslate"><span class="pre">PT10S</span></code></li>
</ul>
</div>
<div class="section" id="runtime-name-simulation-speedup-factor">
<h5>15.1.5.1.20.2. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[simulation]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> speedup factor<a class="headerlink" href="#runtime-name-simulation-speedup-factor" title="Permalink to this headline">¶</a></h5>
<p>If <code class="docutils literal notranslate"><span class="pre">[job]execution</span> <span class="pre">time</span> <span class="pre">limit</span></code> is set, the task simulated run length
is computed by dividing it by this factor.</p>
<ul class="simple">
<li><em>type</em>: float</li>
<li><em>default</em>: (none) - i.e. do not use proportional run length</li>
<li><em>example</em>: <code class="docutils literal notranslate"><span class="pre">10.0</span></code></li>
</ul>
</div>
<div class="section" id="runtime-name-simulation-time-limit-buffer">
<h5>15.1.5.1.20.3. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[simulation]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> time limit buffer<a class="headerlink" href="#runtime-name-simulation-time-limit-buffer" title="Permalink to this headline">¶</a></h5>
<p>For dummy jobs, a new <code class="docutils literal notranslate"><span class="pre">[job]execution</span> <span class="pre">time</span> <span class="pre">limit</span></code> is set to the
simulated task run length plus this buffer interval, to avoid job kill due to
exceeding the time limit.</p>
<ul class="simple">
<li><em>type</em>: ISO 8601 duration/interval representation (e.g.
<code class="docutils literal notranslate"><span class="pre">PT10S</span></code>, 10 seconds, or <code class="docutils literal notranslate"><span class="pre">PT1M</span></code>, 1 minute).</li>
<li><em>default</em>: PT10S</li>
</ul>
</div>
<div class="section" id="runtime-name-simulation-fail-cycle-points">
<h5>15.1.5.1.20.4. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[simulation]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> fail cycle points<a class="headerlink" href="#runtime-name-simulation-fail-cycle-points" title="Permalink to this headline">¶</a></h5>
<p>Configure simulated or dummy jobs to fail at certain cycle points.</p>
<ul class="simple">
<li><em>type</em>: list of strings (cycle points), or <em>all</em></li>
<li><em>default</em>: (none) - no instances of the task will fail</li>
<li><em>examples</em>:
- <code class="docutils literal notranslate"><span class="pre">all</span></code> - all instance of the task will fail
- <code class="docutils literal notranslate"><span class="pre">2017-08-12T06,</span> <span class="pre">2017-08-12T18</span></code> - these instances of the task will fail</li>
</ul>
</div>
<div class="section" id="runtime-name-simulation-fail-try-1-only">
<h5>15.1.5.1.20.5. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[simulation]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> fail try 1 only<a class="headerlink" href="#runtime-name-simulation-fail-try-1-only" title="Permalink to this headline">¶</a></h5>
<p>If this is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> only the first run of the task instance will
fail, otherwise retries will fail too.</p>
<ul class="simple">
<li><em>type</em>: boolean</li>
<li><em>default</em>: <code class="docutils literal notranslate"><span class="pre">True</span></code></li>
</ul>
</div>
<div class="section" id="runtime-name-simulation-disable-task-event-handlers">
<h5>15.1.5.1.20.6. [runtime] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[__NAME__]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[[simulation]]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> disable task event handlers<a class="headerlink" href="#runtime-name-simulation-disable-task-event-handlers" title="Permalink to this headline">¶</a></h5>
<p>If this is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> configured task event handlers will not be called
in simulation or dummy modes.</p>
<ul class="simple">
<li><em>type</em>: boolean</li>
<li><em>default</em>: <code class="docutils literal notranslate"><span class="pre">True</span></code></li>
</ul>
</div>
</div>
</div>
</div>
<div class="section" id="visualization">
<h2>15.1.6. [visualization]<a class="headerlink" href="#visualization" title="Permalink to this headline">¶</a></h2>
<p>Configuration of suite graphing for the <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">graph</span></code> command (graph
extent, styling, and initial family-collapsed state) and the gcylc graph view
(initial family-collapsed state). See the
<a class="reference external" href="http://www.graphviz.org/documentation/">Graphviz documentation of node shapes</a>.</p>
<div class="section" id="visualization-initial-cycle-point">
<h3>15.1.6.1. [visualization] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> initial cycle point<a class="headerlink" href="#visualization-initial-cycle-point" title="Permalink to this headline">¶</a></h3>
<p>The initial cycle point for graph plotting.</p>
<ul class="simple">
<li><em>type</em>: ISO 8601 date-time representation (e.g. CCYYMMDDThhmm)</li>
<li><em>default</em>: the suite initial cycle point</li>
</ul>
<p>The visualization initial cycle point gets adjusted up if necessary to the
suite initial cycling point.</p>
</div>
<div class="section" id="visualization-final-cycle-point">
<h3>15.1.6.2. [visualization] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> final cycle point<a class="headerlink" href="#visualization-final-cycle-point" title="Permalink to this headline">¶</a></h3>
<p>An explicit final cycle point for graph plotting. If used, this overrides the
preferred <em>number of cycle points</em> (below).</p>
<ul class="simple">
<li><em>type</em>: ISO 8601 date-time representation (e.g. CCYYMMDDThhmm)</li>
<li><em>default</em>: (none)</li>
</ul>
<p>The visualization final cycle point gets adjusted down if necessary to the
suite final cycle point.</p>
</div>
<div class="section" id="visualization-number-of-cycle-points">
<h3>15.1.6.3. [visualization] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> number of cycle points<a class="headerlink" href="#visualization-number-of-cycle-points" title="Permalink to this headline">¶</a></h3>
<p>The number of cycle points to graph starting from the visualization initial
cycle point. This is the preferred way of defining the graph end point, but
it can be overridden by an explicit <em>final cycle point</em> (above).</p>
<ul class="simple">
<li><em>type</em>: integer</li>
<li><em>default</em>: 3</li>
</ul>
</div>
<div class="section" id="visualization-collapsed-families">
<h3>15.1.6.4. [visualization] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> collapsed families<a class="headerlink" href="#visualization-collapsed-families" title="Permalink to this headline">¶</a></h3>
<p>A list of family (namespace) names to be shown in the collapsed state
(i.e. the family members will be replaced by a single family node) when
the suite is first plotted in the graph viewer or the gcylc graph view.
If this item is not set, the default is to collapse all families at first.
Interactive GUI controls can then be used to group and ungroup family
nodes at will.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of family names.</li>
<li><em>default</em>: (none)</li>
</ul>
</div>
<div class="section" id="visualization-use-node-color-for-edges">
<h3>15.1.6.5. [visualization] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> use node color for edges<a class="headerlink" href="#visualization-use-node-color-for-edges" title="Permalink to this headline">¶</a></h3>
<p>Plot graph edges (dependency arrows) with the same color as the upstream
node, otherwise default to black.</p>
<ul class="simple">
<li><em>type</em>: boolean</li>
<li><em>default</em>: False</li>
</ul>
</div>
<div class="section" id="visualization-use-node-fillcolor-for-edges">
<h3>15.1.6.6. [visualization] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> use node fillcolor for edges<a class="headerlink" href="#visualization-use-node-fillcolor-for-edges" title="Permalink to this headline">¶</a></h3>
<p>Plot graph edges (i.e. dependency arrows) with the same fillcolor as the
upstream node, if it is filled, otherwise default to black.</p>
<ul class="simple">
<li><em>type</em>: boolean</li>
<li><em>default</em>: False</li>
</ul>
</div>
<div class="section" id="visualization-node-penwidth">
<h3>15.1.6.7. [visualization] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> node penwidth<a class="headerlink" href="#visualization-node-penwidth" title="Permalink to this headline">¶</a></h3>
<p>Line width of node shape borders.</p>
<ul class="simple">
<li><em>type</em>: integer</li>
<li><em>default</em>: 2</li>
</ul>
</div>
<div class="section" id="visualization-edge-penwidth">
<h3>15.1.6.8. [visualization] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> edge penwidth<a class="headerlink" href="#visualization-edge-penwidth" title="Permalink to this headline">¶</a></h3>
<p>Line width of graph edges (dependency arrows).</p>
<ul class="simple">
<li><em>type</em>: integer</li>
<li><em>default</em>: 2</li>
</ul>
</div>
<div class="section" id="visualization-use-node-color-for-labels">
<h3>15.1.6.9. [visualization] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> use node color for labels<a class="headerlink" href="#visualization-use-node-color-for-labels" title="Permalink to this headline">¶</a></h3>
<p>Graph node labels can be printed in the same color as the node outline.</p>
<ul class="simple">
<li><em>type</em>: boolean</li>
<li><em>default</em>: False</li>
</ul>
</div>
<div class="section" id="visualization-default-node-attributes">
<h3>15.1.6.10. [visualization] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> default node attributes<a class="headerlink" href="#visualization-default-node-attributes" title="Permalink to this headline">¶</a></h3>
<p>Set the default attributes (color and style etc.) of graph nodes (tasks and families).
Attribute pairs must be quoted to hide the internal <code class="docutils literal notranslate"><span class="pre">=</span></code> character.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of quoted <code class="docutils literal notranslate"><span class="pre">'attribute=value'</span></code> pairs.</li>
<li><em>legal values</em>: see graphviz or pygraphviz documentation</li>
<li><em>default</em>: <code class="docutils literal notranslate"><span class="pre">'style=filled',</span> <span class="pre">'fillcolor=yellow',</span> <span class="pre">'shape=box'</span></code></li>
</ul>
</div>
<div class="section" id="visualization-default-edge-attributes">
<h3>15.1.6.11. [visualization] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> default edge attributes<a class="headerlink" href="#visualization-default-edge-attributes" title="Permalink to this headline">¶</a></h3>
<p>Set the default attributes (color and style etc.) of graph edges
(dependency arrows).  Attribute pairs must be quoted to hide the
internal <code class="docutils literal notranslate"><span class="pre">=</span></code> character.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of quoted <code class="docutils literal notranslate"><span class="pre">'attribute=value'</span></code> pairs.</li>
<li><em>legal values</em>: see graphviz or pygraphviz documentation</li>
<li><em>default</em>: <code class="docutils literal notranslate"><span class="pre">'color=black'</span></code></li>
</ul>
</div>
<div class="section" id="visualization-node-groups">
<h3>15.1.6.12. [visualization] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[node groups]]<a class="headerlink" href="#visualization-node-groups" title="Permalink to this headline">¶</a></h3>
<p>Define named groups of graph nodes (tasks and families) which can styled
en masse, by name, in <code class="docutils literal notranslate"><span class="pre">[visualization]</span> <span class="pre">-&gt;</span> <span class="pre">[[node</span> <span class="pre">attributes]]</span></code>.
Node groups are automatically defined for all task families, including
root, so you can style family and member nodes at once by family name.</p>
<div class="section" id="visualization-node-groups-group">
<h4>15.1.6.12.1. [visualization] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[node groups]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> __GROUP__<a class="headerlink" href="#visualization-node-groups-group" title="Permalink to this headline">¶</a></h4>
<p>Replace <code class="docutils literal notranslate"><span class="pre">__GROUP__</span></code> with each named group of tasks or families.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of task or family names.</li>
<li><em>default</em>: (none)</li>
<li><em>example</em>:<ul>
<li>PreProc = foo, bar</li>
<li>PostProc = baz, waz</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="visualization-node-attributes">
<h3>15.1.6.13. [visualization] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[node attributes]]<a class="headerlink" href="#visualization-node-attributes" title="Permalink to this headline">¶</a></h3>
<p>Here you can assign graph node attributes to specific nodes, or to all
members of named groups defined in <code class="docutils literal notranslate"><span class="pre">[visualization]</span> <span class="pre">-&gt;</span> <span class="pre">[[node</span> <span class="pre">groups]]</span></code>.
Task families are automatically node groups. Styling of a
family node applies to all member nodes (tasks and sub-families), but
precedence is determined by ordering in the suite configuration.  For
example, if you style a family red and then one of its members green,
cylc will plot a red family with one green member; but if you style one
member green and then the family red, the red family styling will
override the earlier green styling of the member.</p>
<div class="section" id="visualization-node-attributes-name">
<h4>15.1.6.13.1. [visualization] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> [[node attributes]] <code class="docutils literal notranslate"><span class="pre">-&gt;</span></code> __NAME__<a class="headerlink" href="#visualization-node-attributes-name" title="Permalink to this headline">¶</a></h4>
<p>Replace <code class="docutils literal notranslate"><span class="pre">__NAME__</span></code> with each node or node group for style attribute
assignment.</p>
<ul class="simple">
<li><em>type</em>: Comma-separated list of quoted <code class="docutils literal notranslate"><span class="pre">'attribute=value'</span></code> pairs.</li>
<li><em>legal values</em>: see the Graphviz or PyGraphviz documentation</li>
<li><em>default</em>: (none)</li>
<li><em>example</em> (with reference to the node groups defined above):<ul>
<li>PreProc = ‘style=filled’, ‘fillcolor=orange’</li>
<li>PostProc = ‘color=red’</li>
<li>foo = ‘style=filled’</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/cylc-logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">1. Introduction: How Cylc Works</a></li>
<li class="toctree-l1"><a class="reference internal" href="../screenshots.html">2. Cylc Screenshots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">3. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../terminology.html">4. Cylc Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflows.html">5. Workflows For Cycling Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../global-site-user-conf.html">6. Global (Site, User) Configuration Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">7. Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../suite-name-reg.html">8. Suite Name Registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../suite-config.html">9. Suite Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../task-implementation.html">10. Task Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../task-job-submission.html">11. Task Job Submission and Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../external-triggers.html">12. External Triggers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running-suites.html">13. Running Suites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../suite-storage-etc.html">14. Suite Storage, Discovery, Revision Control, and Deployment</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="appendices-master.html">15. Appendices</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">15.1. Suite.rc Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#top-level-items">15.1.1. Top Level Items</a></li>
<li class="toctree-l3"><a class="reference internal" href="#meta">15.1.2. [meta]</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cylc">15.1.3. [cylc]</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scheduling">15.1.4. [scheduling]</a></li>
<li class="toctree-l3"><a class="reference internal" href="#runtime">15.1.5. [runtime]</a></li>
<li class="toctree-l3"><a class="reference internal" href="#visualization">15.1.6. [visualization]</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="site-user-config-ref.html">15.2. Global (Site, User) Config File Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="gcylc-config-ref.html">15.3. Gcylc GUI (cylc gui) Config File Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="gscan-config-ref.html">15.4. Gscan GUI (cylc gscan) Config File Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="remote-job-management.html">15.5. Remote Job Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="command-ref.html">15.6. Command Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="gcylc-graph-view.html">15.7. The gcylc Graph View</a></li>
<li class="toctree-l2"><a class="reference internal" href="readme-file.html">15.8. Cylc README File</a></li>
<li class="toctree-l2"><a class="reference internal" href="install-file.html">15.9. Cylc INSTALL File</a></li>
<li class="toctree-l2"><a class="reference internal" href="dev-history-major-changes.html">15.10. Cylc Development History - Major Changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="cylc-6-migration-ref.html">15.11. Cylc 6 Migration Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="known-issues.html">15.12. Known Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="licensing.html">15.13. GNU GENERAL PUBLIC LICENSE v3.0</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../suite-design-guide/suite-design-guide-master.html">16. Suite Design Guide</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/appendices/suiterc-config-ref.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div><!--
  element which gets populated with the list of available versions and
  formats for the documentation by versions.js
-->
<div
  class="rst-versions"
  data-toggle="rst-versions"
  id='versions-and-formats'
></div>



<script type="text/javascript">
    const CUR_FORMAT = "html";
    const CUR_VERSION = "7.8.8";
    // name of page (in URL), for singlepage builds this will be `index`
    const PAGE_NAME = "appendices/suiterc-config-ref";
    // URL path to the base docs dir i.e. ROOT_DIR/version/format
    const ROOT_DIR = "../../..";
</script>

<script
  type="text/javascript"
  src="../../../versions.js"
></script>

<!-- Hide the current version (doesn't fit well in this theme) -->
<style
  type="text/css"
>
  #versions-and-formats .rst-current-version {
    display: none;
  }
</style>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="site-user-config-ref.html" title="15.2. Global (Site, User) Config File Reference"
             >next</a> |</li>
        <li class="right" >
          <a href="appendices-master.html" title="15. Appendices"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">The Cylc Suite Engine 7.8.8 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="appendices-master.html" >15. Appendices</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2008-2019 NIWA &amp; British Crown (Met Office) &amp; Contributors.
      Last updated on Mar 26, 2021.
    </div>
  </body>
</html>
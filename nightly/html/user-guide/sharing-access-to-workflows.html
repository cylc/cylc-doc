<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Authorizing Others to Access Your Workflows &mdash; Cylc 8.1.0.dev documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/diff_selector.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/grid_table.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/hieroglyph_theme_addons.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/tutorial.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/addons.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/cylc-favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/js/diff_selector.js"></script>
        <script src="../_static/js/minicylc.js"></script>
        <script src="../_static/js/spoiler.js"></script>
        <script src="../_static/js/addons.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Plugins" href="../plugins/index.html" />
    <link rel="prev" title="Removing Workflows" href="removing-workflows.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html">
            <img src="../_static/cylc-logo-white.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                8.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../7-to-8/index.html">Cylc 8 Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="writing-workflows/index.html">Writing Workflows</a></li>
<li class="toctree-l2"><a class="reference internal" href="installing-workflows.html">Installing Workflows</a></li>
<li class="toctree-l2"><a class="reference internal" href="running-workflows/index.html">Running Workflows</a></li>
<li class="toctree-l2"><a class="reference internal" href="task-implementation/index.html">Task Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="removing-workflows.html">Removing Workflows</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Authorizing Others to Access Your Workflows</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#granting-access">Granting Access</a></li>
<li class="toctree-l3"><a class="reference internal" href="#methods-of-assigning-permissions">Methods of Assigning Permissions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#individual-operations">Individual Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#access-groups">Access Groups</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#user-authorization-configuration">User Authorization Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#example-user-configuration">Example User Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#site-authorization-configuration">Site Authorization Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#defaults-and-limits">Defaults and Limits</a></li>
<li class="toctree-l4"><a class="reference internal" href="#missing-configurations-in-site-authorization">Missing Configurations in Site Authorization</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-site-authorization-configuration">Example Site Authorization Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#group-support">Group Support</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changing-access-rights">Changing Access Rights</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#interacting-with-others-workflows">Interacting with Others’ Workflows</a></li>
<li class="toctree-l3"><a class="reference internal" href="#troubleshooting-authorization">Troubleshooting Authorization</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow-design-guide/index.html">Workflow Design Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Cylc</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">User Guide</a> &raquo;</li>
      <li>Authorizing Others to Access Your Workflows</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/user-guide/sharing-access-to-workflows.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="authorizing-others-to-access-your-workflows">
<span id="authorization"></span><h1>Authorizing Others to Access Your Workflows<a class="headerlink" href="#authorizing-others-to-access-your-workflows" title="Permalink to this heading"></a></h1>
<p>The Cylc UI Server supports multi user access. You can grant control of your
workflows to other users, by adding or removing privileges on a Cylc operation
basis. This requires site level configuration, with individual users being able
to set authorization settings, within the bounds set by the site.</p>
<p>Sites can set default access rights for users, for more information, see
<a class="reference internal" href="#site-configuration"><span class="std std-ref">Site Authorization Configuration</span></a>.</p>
<p>Note, if this feature is not configured, the default is no multi user access,
only the workflow owner will be able to interact with it.</p>
<p>If you grant access to another user, this access will apply to all of your
workflows.</p>
<section id="granting-access">
<h2>Granting Access<a class="headerlink" href="#granting-access" title="Permalink to this heading"></a></h2>
<p>There are three methods of identifying a user to grant access to:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">*</span></code> character, to indicate any authenticated user,</p></li>
<li><p>using the <code class="docutils literal notranslate"><span class="pre">group:</span></code> prefix to indicate a system group. E.g.
<code class="docutils literal notranslate"><span class="pre">group:groupname</span></code>, will assign permissions to all members of the system
group named <code class="docutils literal notranslate"><span class="pre">groupname</span></code>. For more information, see <a class="reference internal" href="#group-support"><span class="std std-ref">Group Support</span></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">username</span></code> to indicate a specific user.</p></li>
</ul>
<p>Using glob (<code class="docutils literal notranslate"><span class="pre">*</span></code>) to pattern match usernames and group names is not currently
supported.</p>
<p>Permissions are additive. If the user appears elsewhere in configuration, for
example as a member of a system group, the permission level is taken as the
greatest possible.</p>
<p>However, negations take precedence.</p>
<p>Note, defaults in site config only apply if a user does not appear in the
<code class="docutils literal notranslate"><span class="pre">c.CylcUIServer.user_authorization</span></code>.</p>
</section>
<section id="methods-of-assigning-permissions">
<h2>Methods of Assigning Permissions<a class="headerlink" href="#methods-of-assigning-permissions" title="Permalink to this heading"></a></h2>
<p>Assigning permissions can be done in two ways:</p>
<blockquote>
<div><ul class="simple">
<li><p>using individual Cylc operations, e.g. <code class="docutils literal notranslate"><span class="pre">play</span></code>, <code class="docutils literal notranslate"><span class="pre">pause</span></code></p></li>
<li><p>using predefined access groups: <code class="docutils literal notranslate"><span class="pre">READ</span></code>, <code class="docutils literal notranslate"><span class="pre">CONTROL</span></code>, <code class="docutils literal notranslate"><span class="pre">ALL</span></code>.</p></li>
</ul>
</div></blockquote>
<p>Using both methods is supported, e.g [“READ”, “stop”, “pause”]</p>
<section id="individual-operations">
<h3>Individual Operations<a class="headerlink" href="#individual-operations" title="Permalink to this heading"></a></h3>
<p>To assign users permissions, you can list the operations you wish to grant</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">CylcUIServer</span><span class="o">.</span><span class="n">user_authorization</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;user1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;read&quot;</span><span class="p">,</span> <span class="s2">&quot;pause&quot;</span><span class="p">,</span> <span class="s2">&quot;play&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Provided you have permission (via the site config file) to grant <code class="docutils literal notranslate"><span class="pre">user1</span></code>
these permissions, this will result in <code class="docutils literal notranslate"><span class="pre">user1</span></code> being able to see your
workflows (from the <code class="docutils literal notranslate"><span class="pre">read</span></code> operation), and <code class="docutils literal notranslate"><span class="pre">pause</span></code> and <code class="docutils literal notranslate"><span class="pre">play</span></code> your workflows.</p>
<p>To remove permissions prepend the operation with a <code class="docutils literal notranslate"><span class="pre">!</span></code>.
For example,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">CylcUIServer</span><span class="o">.</span><span class="n">user_authorization</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;group:groupA&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;read&quot;</span><span class="p">,</span> <span class="s2">&quot;play&quot;</span><span class="p">,</span> <span class="s2">&quot;stop&quot;</span><span class="p">],</span>
    <span class="s2">&quot;user2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;!stop&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Providing your site configuration permits you to grant this access,
this configuration, for <code class="docutils literal notranslate"><span class="pre">user2</span></code> (who is a member of system group <code class="docutils literal notranslate"><span class="pre">groupA</span></code>),
would result in them having <code class="docutils literal notranslate"><span class="pre">read</span></code> and <code class="docutils literal notranslate"><span class="pre">play</span></code> access. Permission to stop your
workflows has been removed so this action will be forbidden.</p>
</section>
<section id="access-groups">
<h3>Access Groups<a class="headerlink" href="#access-groups" title="Permalink to this heading"></a></h3>
<p>For convenience, cylc operations available in the UI have been bundled into
access groups. These should be capitalized to distinguish from cylc operations.</p>
<p>We currently support <code class="docutils literal notranslate"><span class="pre">READ</span></code>, <code class="docutils literal notranslate"><span class="pre">CONTROL</span></code> and <code class="docutils literal notranslate"><span class="pre">ALL</span></code> and to remove permissions
to operations in these groups, use <code class="docutils literal notranslate"><span class="pre">!READ</span></code>, <code class="docutils literal notranslate"><span class="pre">!CONTROL</span></code>, <code class="docutils literal notranslate"><span class="pre">!ALL</span></code>.</p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">Access Group Mappings</span><a class="headerlink" href="#id2" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Operation</p></th>
<th class="head"><p>READ</p></th>
<th class="head"><p>CONTROL</p></th>
<th class="head"><p>ALL</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Broadcast</p></td>
<td></td>
<td></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>Ext-trigger</p></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>Hold</p></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>Kill</p></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>Message</p></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>Pause</p></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>Play</p></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>Poll</p></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>Read</p></td>
<td><p>X</p></td>
<td></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>Release</p></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>ReleaseHoldPoint</p></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>Reload</p></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>Remove</p></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>Resume</p></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>SetGraphWindowExtent</p></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>SetHoldPoint</p></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>SetOutputs</p></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>SetVerbosity</p></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>Stop</p></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>Trigger</p></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">READ</span></code> access group is shorthand for all read-only operations. At present,
this is solely the <code class="docutils literal notranslate"><span class="pre">read</span></code> operation, which grants access to GraphQL queries and
subscriptions, and enables users to see the workflows in the UI. In future
the <code class="docutils literal notranslate"><span class="pre">READ</span></code> access group may be extended.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Granting CONTROL access does not automatically grant READ access.</p>
</div>
</section>
</section>
<section id="user-authorization-configuration">
<span id="user-configuration"></span><h2>User Authorization Configuration<a class="headerlink" href="#user-authorization-configuration" title="Permalink to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">c.CylcUIServer.user_authorization</span></code>, which is loaded from
<code class="docutils literal notranslate"><span class="pre">~/.cylc/uiserver/jupyter_config.py</span></code>, contains your preferences for granting access
to other users. This configuration should be entered as a Python
dictionary. If a user does not appear in your user config, the default site
access will apply.
You are only permitted to grant access, within the bounds set at site level.</p>
<section id="example-user-configuration">
<h3>Example User Configuration<a class="headerlink" href="#example-user-configuration" title="Permalink to this heading"></a></h3>
<p>An example user configuration:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">CylcUIServer</span><span class="o">.</span><span class="n">user_authorization</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;*&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;READ&quot;</span><span class="p">],</span>
    <span class="s2">&quot;group:groupA&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;CONTROL&quot;</span><span class="p">],</span>
    <span class="s2">&quot;user1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;read&quot;</span><span class="p">,</span> <span class="s2">&quot;pause&quot;</span><span class="p">,</span> <span class="s2">&quot;!play&quot;</span><span class="p">],</span>
    <span class="s2">&quot;user2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;!ALL&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In this scenario:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;*&quot;</span></code>  represents any authenticated user. They have permission to view all
workflows, and view them on the GUI.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;group:groupA&quot;</span></code> applies <code class="docutils literal notranslate"><span class="pre">CONTROL</span></code> permissions to any member of system
<code class="docutils literal notranslate"><span class="pre">groupA</span></code>.
Note that, since permissions are additive, these users will gain <code class="docutils literal notranslate"><span class="pre">READ</span></code> access
from the <code class="docutils literal notranslate"><span class="pre">&quot;*&quot;:[&quot;READ&quot;]</span></code> assignment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;user1&quot;</span></code> will have permission to view workflows, <code class="docutils literal notranslate"><span class="pre">pause</span></code> but not <code class="docutils literal notranslate"><span class="pre">play</span></code>
workflows, even if <code class="docutils literal notranslate"><span class="pre">user1</span></code> is a member of the system <code class="docutils literal notranslate"><span class="pre">groupA</span></code>. This is due
to negations taking precedence over additions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;user2&quot;</span></code> is not permitted to view workflows, or perform any operations.</p></li>
</ul>
</section>
</section>
<section id="site-authorization-configuration">
<span id="site-configuration"></span><h2>Site Authorization Configuration<a class="headerlink" href="#site-authorization-configuration" title="Permalink to this heading"></a></h2>
<p>The site_authorization configuration allows sites to configure sensible defaults
and limits for the permissions users can delegate.</p>
<p>Note that as the UI Server runs as the workflow owner, they have full control
over it and in theory may bypass these restrictions in a variety of ways. As an
extreme example, a workflow owner could pass their account credentials to
another person, and that cannot be prevented by technical means. However, a
workflow owner cannot unilaterally gain access to any other user’s account or
workflows by configuring their own UI Server.</p>
<p><code class="docutils literal notranslate"><span class="pre">c.CylcUIServer.site-authorization</span></code>, which is loaded from
<code class="docutils literal notranslate"><span class="pre">/etc/cylc/uiserver/jupyter_config.py</span></code>, or, alternatively, the environment variable
<code class="docutils literal notranslate"><span class="pre">CYLC_SITE_CONF_PATH</span></code>, contains these site default and limit settings for
users. This configuration should be entered as a Python dictionary.</p>
<section id="defaults-and-limits">
<h3>Defaults and Limits<a class="headerlink" href="#defaults-and-limits" title="Permalink to this heading"></a></h3>
<p>Sites set both limits and defaults for users.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">limit</span></code> determines the maximum access users can grant to their workflows.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">default</span></code> sets a default access level, which applies if the user does
not appear in the user-authorization configuration (via explicit user name or group).</p></li>
</ul>
</section>
<section id="missing-configurations-in-site-authorization">
<h3>Missing Configurations in Site Authorization<a class="headerlink" href="#missing-configurations-in-site-authorization" title="Permalink to this heading"></a></h3>
<p>For site configuration:</p>
<ul class="simple">
<li><p>if a limit is not set but a default is, then the limit is the default.</p></li>
<li><p>if a default is not set but a limit is, then the default is no access.</p></li>
</ul>
</section>
<section id="example-site-authorization-configuration">
<h3>Example Site Authorization Configuration<a class="headerlink" href="#example-site-authorization-configuration" title="Permalink to this heading"></a></h3>
<p>Whilst most site configurations will be simpler than the example below, this
example provides an indication of the combinations available.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">CylcUIServer</span><span class="o">.</span><span class="n">site_authorization</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;*&quot;</span><span class="p">:</span> <span class="p">{</span>  <span class="c1"># For all ui-server owners,</span>
        <span class="s2">&quot;*&quot;</span><span class="p">:</span> <span class="p">{</span>  <span class="c1"># Any authenticated user</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;READ&quot;</span><span class="p">,</span>  <span class="c1"># Will have default read-only access</span>
        <span class="p">},</span>
        <span class="s2">&quot;user1&quot;</span><span class="p">:</span> <span class="p">{</span>  <span class="c1"># for all ui-server owners, user1</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;!ALL&quot;</span><span class="p">],</span>  <span class="c1"># has no privilidges by default</span>
        <span class="p">},</span>  <span class="c1"># No limit set, so all ui-server owners are unable to permit user1</span>
    <span class="p">},</span>
    <span class="s2">&quot;server_owner_1&quot;</span><span class="p">:</span> <span class="p">{</span>  <span class="c1"># For specific UI Server owner, server_owner_1</span>
        <span class="s2">&quot;*&quot;</span><span class="p">:</span> <span class="p">{</span>  <span class="c1"># Any authenticated user</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;READ&quot;</span><span class="p">,</span>  <span class="c1"># Will have default read-only access</span>
            <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;READ&quot;</span><span class="p">,</span> <span class="s2">&quot;CONTROL&quot;</span><span class="p">],</span>  <span class="c1"># server_owner_1 is able to give away</span>
        <span class="p">},</span>  <span class="c1"># READ and CONTROL privileges.</span>
    <span class="p">},</span>
    <span class="s2">&quot;server_owner_2&quot;</span><span class="p">:</span> <span class="p">{</span>  <span class="c1"># For specific UI Server owner,</span>
        <span class="s2">&quot;user2&quot;</span><span class="p">:</span> <span class="p">{</span>  <span class="c1"># Specific user2</span>
            <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="s2">&quot;ALL&quot;</span>  <span class="c1"># Can only be granted a maximum of ALL by</span>
        <span class="p">},</span>  <span class="c1"># server_owner2, default access for user2 falls back to</span>
        <span class="c1"># standard READ only (if server_owner_2/user2 are</span>
        <span class="c1"># included in other auth config e.g. the top example),</span>
        <span class="c1"># or none if not in any other auth config sections.</span>
        <span class="s2">&quot;group:groupA&quot;</span><span class="p">:</span> <span class="p">{</span>  <span class="c1"># group denoted with a `group:`</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">&quot;READ&quot;</span><span class="p">,</span>
                <span class="s2">&quot;CONTROL&quot;</span><span class="p">,</span>
            <span class="p">]</span>  <span class="c1"># groupA has default READ, CONTROL access to server_owner_2&#39;s</span>
        <span class="p">},</span>  <span class="c1"># workflows</span>
    <span class="p">},</span>
    <span class="s2">&quot;group:grp_of_svr_owners&quot;</span><span class="p">:</span> <span class="p">{</span>  <span class="c1"># Group of users who own UI Servers</span>
        <span class="s2">&quot;group:groupB&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;READ&quot;</span><span class="p">,</span>  <span class="c1"># can grant groupB users up to READ and CONTROL</span>
            <span class="s2">&quot;limit&quot;</span><span class="p">:</span> <span class="p">[</span>  <span class="c1"># privileges, without stop and kill</span>
                <span class="s2">&quot;READ&quot;</span><span class="p">,</span>
                <span class="s2">&quot;CONTROL&quot;</span><span class="p">,</span>
                <span class="s2">&quot;!stop&quot;</span><span class="p">,</span>  <span class="c1"># operations</span>
                <span class="s2">&quot;!kill&quot;</span><span class="p">,</span>
            <span class="p">],</span>
        <span class="p">},</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="group-support">
<span id="id1"></span><h3>Group Support<a class="headerlink" href="#group-support" title="Permalink to this heading"></a></h3>
<p>Unix-like systems support grouping users. Cylc authorization supports granting
access by membership of these system groups. You can indicate a system group
by using the <code class="docutils literal notranslate"><span class="pre">group:</span></code> indicator.</p>
<dl>
<dt>System groups are found by</dt><dd><p><a class="reference internal" href="#cylc.uiserver.authorise.get_groups" title="cylc.uiserver.authorise.get_groups"><code class="xref py py-mod docutils literal notranslate"><span class="pre">get_groups</span></code></a></p>
<dl class="py function">
<dt class="sig sig-object py" id="cylc.uiserver.authorise.get_groups">
<span class="sig-prename descclassname"><span class="pre">cylc.uiserver.authorise.</span></span><span class="sig-name descname"><span class="pre">get_groups</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.10)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.10)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cylc.uiserver.authorise.get_groups" title="Permalink to this definition"></a></dt>
<dd><p>Return list of system groups for given user.</p>
<p>Uses <code class="docutils literal notranslate"><span class="pre">os.getgrouplist</span></code> and <code class="docutils literal notranslate"><span class="pre">os.NGROUPS_MAX</span></code> to get system groups for a
given user. <code class="docutils literal notranslate"><span class="pre">grp.getgrgid</span></code> then parses these to return a list of group
names.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>username: username used to check system groups.</p>
</dd>
<dt>Returns:</dt><dd><p>list: system groups for username given</p>
</dd>
</dl>
</dd></dl>

</dd>
</dl>
</section>
<section id="changing-access-rights">
<h3>Changing Access Rights<a class="headerlink" href="#changing-access-rights" title="Permalink to this heading"></a></h3>
<p>Changing authorization permissions in your <code class="docutils literal notranslate"><span class="pre">jupyter_config.py</span></code> will require the
UI Server to be restarted before any changes are applied.</p>
</section>
</section>
<section id="interacting-with-others-workflows">
<h2>Interacting with Others’ Workflows<a class="headerlink" href="#interacting-with-others-workflows" title="Permalink to this heading"></a></h2>
<p>The authorization system in Cylc 8 is complete, although expect access to other
users’ workflows via the UI to be further developed in future.</p>
<p>If you have been granted access to another user’s workflows, you can view and
interact with these workflows.
Say, you, userA, wish to interact with userB’s workflows.
You can do this by navigating to the URL <code class="docutils literal notranslate"><span class="pre">https://&lt;hub&gt;/user/userB</span></code>, using
the hub of userB. You should authenticate as yourself (userA) and, provided you
have the correct permissions, you will see userB’s workflows for interaction.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Operations that are not authorized will appear greyed out on the UI.</p>
</div>
</section>
<section id="troubleshooting-authorization">
<h2>Troubleshooting Authorization<a class="headerlink" href="#troubleshooting-authorization" title="Permalink to this heading"></a></h2>
<p>If authorization is not performing as expected, check</p>
<ul class="simple">
<li><p>you are permitted by the site configuration to give away access.</p></li>
<li><p>you have provided <code class="docutils literal notranslate"><span class="pre">read</span></code> permissions, which enables the user to see your
workflows.</p></li>
<li><p>check the spelling in your configuration. The correct spelling is
<code class="docutils literal notranslate"><span class="pre">c.CylcUIServer.user_authorization</span></code></p></li>
<li><p>the server has been started by the user of the workflows you are trying to
access. Users currently can only spawn their own UI Servers.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="removing-workflows.html" class="btn btn-neutral float-left" title="Removing Workflows" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../plugins/index.html" class="btn btn-neutral float-right" title="Plugins" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2008-2022 NIWA &amp; British Crown (Met Office) &amp; Contributors.
      <span class="lastupdated">Last updated on Sep 14, 2022.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <!--
  element which gets populated with the list of available versions and
  formats for the documentation by versions.js
-->
<div
  class="rst-versions"
  data-toggle="rst-versions"
  id='versions-and-formats'
></div>




<script type="text/javascript">
    const CUR_FORMAT = "html";
    const CUR_VERSION = "nightly.2022-09-14";
    // name of page (in URL), for singlepage builds this will be `index`
    const PAGE_NAME = "user-guide/sharing-access-to-workflows";
    // URL path to the base docs dir i.e. ROOT_DIR/version/format
    const ROOT_DIR = "../../..";
</script>

<script
  type="text/javascript"
  src="../../../versions.js"
></script><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
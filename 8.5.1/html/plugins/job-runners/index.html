

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Custom Job Submission Methods &mdash; Cylc 8.5.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=47202671" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=fd3f3429" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/diff_selector.css?v=9704a72b" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/grid_table.css?v=0285b42e" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/hieroglyph_theme_addons.css?v=814c2015" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/tutorial.css?v=b869d33c" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/addons.css?v=d1f804c3" />
      <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=0fad80e6" />

  
    <link rel="shortcut icon" href="../../_static/cylc-favicon.ico"/>
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=3fea0a2f"></script>
      <script src="../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/js/diff_selector.js?v=3109bfa4"></script>
      <script src="../../_static/js/minicylc.js?v=ddc882fd"></script>
      <script src="../../_static/js/spoiler.js?v=12631137"></script>
      <script src="../../_static/js/addons.js?v=39bd7dee"></script>
      <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Xtrigger Plugins" href="../xtriggers/index.html" />
    <link rel="prev" title="cylc.flow.install_plugins.log_vc_info" href="../install/built-in/cylc.flow.install_plugins.log_vc_info.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/cylc-logo-white.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../7-to-8/index.html">Cylc 8 Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/index.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user-guide/index.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Plugins</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../cylc-rose.html">Cylc Rose</a></li>
<li class="toctree-l2"><a class="reference internal" href="../main-loop/index.html">Main Loop Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/index.html">Pre-Configure And Post-Install Plugins</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Custom Job Submission Methods</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler"><code class="docutils literal notranslate"><span class="pre">ExampleHandler</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.FAIL_SIGNALS"><code class="docutils literal notranslate"><span class="pre">ExampleHandler.FAIL_SIGNALS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.KILL_CMD_TMPL"><code class="docutils literal notranslate"><span class="pre">ExampleHandler.KILL_CMD_TMPL</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.POLL_CANT_CONNECT_ERR"><code class="docutils literal notranslate"><span class="pre">ExampleHandler.POLL_CANT_CONNECT_ERR</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.POLL_CMD"><code class="docutils literal notranslate"><span class="pre">ExampleHandler.POLL_CMD</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.REC_ID_FROM_SUBMIT_ERR"><code class="docutils literal notranslate"><span class="pre">ExampleHandler.REC_ID_FROM_SUBMIT_ERR</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.REC_ID_FROM_SUBMIT_OUT"><code class="docutils literal notranslate"><span class="pre">ExampleHandler.REC_ID_FROM_SUBMIT_OUT</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.SHOULD_KILL_PROC_GROUP"><code class="docutils literal notranslate"><span class="pre">ExampleHandler.SHOULD_KILL_PROC_GROUP</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.SHOULD_POLL_PROC_GROUP"><code class="docutils literal notranslate"><span class="pre">ExampleHandler.SHOULD_POLL_PROC_GROUP</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.SUBMIT_CMD_ENV"><code class="docutils literal notranslate"><span class="pre">ExampleHandler.SUBMIT_CMD_ENV</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.SUBMIT_CMD_TMPL"><code class="docutils literal notranslate"><span class="pre">ExampleHandler.SUBMIT_CMD_TMPL</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.filter_poll_many_output"><code class="docutils literal notranslate"><span class="pre">ExampleHandler.filter_poll_many_output()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.filter_submit_output"><code class="docutils literal notranslate"><span class="pre">ExampleHandler.filter_submit_output()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.format_directives"><code class="docutils literal notranslate"><span class="pre">ExampleHandler.format_directives()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.get_poll_many_cmd"><code class="docutils literal notranslate"><span class="pre">ExampleHandler.get_poll_many_cmd()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.get_submit_stdin"><code class="docutils literal notranslate"><span class="pre">ExampleHandler.get_submit_stdin()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.get_vacation_signal"><code class="docutils literal notranslate"><span class="pre">ExampleHandler.get_vacation_signal()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.manip_job_id"><code class="docutils literal notranslate"><span class="pre">ExampleHandler.manip_job_id()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.submit"><code class="docutils literal notranslate"><span class="pre">ExampleHandler.submit()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../xtriggers/index.html">Xtrigger Plugins</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../workflow-design-guide/index.html">Workflow Design Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/index.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Cylc</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Plugins</a></li>
      <li class="breadcrumb-item active">Custom Job Submission Methods</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/plugins/job-runners/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="custom-job-submission-methods">
<span id="customjobsubmissionmethods"></span><h1>Custom Job Submission Methods<a class="headerlink" href="#custom-job-submission-methods" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="cylc.flow.job_runner_handlers.documentation.ExampleHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cylc.flow.job_runner_handlers.documentation.</span></span><span class="sig-name descname"><span class="pre">ExampleHandler</span></span><a class="reference internal" href="../../_modules/cylc/flow/job_runner_handlers/documentation.html#ExampleHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler" title="Link to this definition"></a></dt>
<dd><p>Documentation for writing job runner handlers.</p>
<p>Cylc can submit jobs to a number of different job runners
(aka batch systems) e.g. Slurm and PBS. For a list of built-in integrations
see <a class="reference internal" href="../../user-guide/task-implementation/job-submission.html#availablemethods"><span class="std std-ref">Supported Job Submission Methods</span></a>.</p>
<p>If the job runner you require is not on this list, Cylc provides a generic
interface for writing your own integration.</p>
<p>Defining a new job runner handler requires a little Python programming. Use
the built-in handlers
(e.g. <a class="reference internal" href="../../user-guide/task-implementation/job-runner-handlers/cylc.flow.job_runner_handlers.background.html#module-cylc.flow.job_runner_handlers.background" title="cylc.flow.job_runner_handlers.background"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cylc.flow.job_runner_handlers.background</span></code></a>) as examples.</p>
<p class="rubric" id="where-to-put-job-runner-handler-modules">Installation</p>
<p>Custom job runner handlers must be installed on workflow and job
hosts in one of these locations:</p>
<ul class="simple">
<li><p>under <code class="docutils literal notranslate"><span class="pre">WORKFLOW-RUN-DIR/lib/python/</span></code></p></li>
<li><p>under <code class="docutils literal notranslate"><span class="pre">CYLC-PATH/cylc/flow/job_runner_handlers/</span></code></p></li>
<li><p>or anywhere in <code class="docutils literal notranslate"><span class="pre">$PYTHONPATH</span></code></p></li>
</ul>
<p>Each module should export the symbol <code class="docutils literal notranslate"><span class="pre">JOB_RUNNER_HANDLER</span></code> for the
singleton instance that implements the job system handler logic e.g:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">my_handler.py</span><a class="headerlink" href="#id1" title="Link to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">MyHandler</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="n">JOB_RUNNER_HANDLER</span> <span class="o">=</span> <span class="n">MyHandler</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>Each job runner handler class should instantiate with no argument.</p>
<p class="rubric">Usage</p>
<p>You can then define a Cylc platform using the handler:</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">global.cylc</span><a class="headerlink" href="#id2" title="Link to this code"></a></div>
<div class="highlight-cylc notranslate"><div class="highlight"><pre><span></span><span class="nt">[platforms]</span>
    <span class="nt">[[my_platform]]</span>
        <span class="nv">job runner </span><span class="o">=</span><span class="s"> my_handler</span>  <span class="c1"># note matches Python module name</span>
        <span class="nv">hosts </span><span class="o">=</span><span class="s"> localhost</span>
</pre></div>
</div>
</div>
<p>And configure tasks to submit to it:</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">flow.cylc</span><a class="headerlink" href="#id3" title="Link to this code"></a></div>
<div class="highlight-cylc notranslate"><div class="highlight"><pre><span></span><span class="nt">[runtime]</span>
    <span class="nt">[[my_task]]</span>
        <span class="nv">script </span><span class="o">=</span><span class="s"> echo &quot;Hello World!&quot;</span>
        <span class="nv">platform </span><span class="o">=</span><span class="s"> my_platform</span>
</pre></div>
</div>
</div>
<p class="rubric">Common Arguments</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">job_conf:</span> <span class="pre">dict</span></code></dt><dd><p>The Cylc job configuration as a dictionary with the following fields:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dependencies</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">directives</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">env-script</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">environment</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">err-script</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">execution_time_limit</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">exit-script</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">flow_nums</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">init-script</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">job_d</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">job_file_path</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">job_runner_command_template</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">job_runner_name</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">namespace_hierarchy</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">param_var</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">platform</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">post-script</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pre-script</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">script</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">submit_num</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">task_id</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">try_num</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uuid_str</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">work_d</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">workflow_name</span></code></p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">submit_opts:</span> <span class="pre">dict</span></code></dt><dd><p>The Cylc job submission options as a dictionary which may contain
the following fields:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">env</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">execution_time_limit</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">execution_time_limit</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">job_runner_cmd_tmpl</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">job_runner_cmd_tmpl</span></code></p></li>
</ul>
</dd>
</dl>
<p class="rubric">An Example</p>
<p>The following <code class="docutils literal notranslate"><span class="pre">qsub.py</span></code> module overrides the built-in <em>pbs</em>
job runner handler to change the directive prefix from <code class="docutils literal notranslate"><span class="pre">#PBS</span></code> to
<code class="docutils literal notranslate"><span class="pre">#QSUB</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">cylc.flow.job_runner_handlers.pbs</span><span class="w"> </span><span class="kn">import</span> <span class="n">PBSHandler</span>

<span class="k">class</span><span class="w"> </span><span class="nc">QSUBHandler</span><span class="p">(</span><span class="n">PBSHandler</span><span class="p">):</span>
    <span class="n">DIRECTIVE_PREFIX</span> <span class="o">=</span> <span class="s2">&quot;#QSUB &quot;</span>

<span class="n">JOB_RUNNER_HANDLER</span> <span class="o">=</span> <span class="n">QSUBHandler</span><span class="p">()</span>
</pre></div>
</div>
<p>If this is in the Python search path (see
<a class="reference internal" href="#where-to-put-job-runner-handler-modules"><span class="std std-ref">Installation</span></a> above) you can use it by
name in your global configuration:</p>
<div class="highlight-cylc notranslate"><div class="highlight"><pre><span></span><span class="nt">[platforms]</span>
    <span class="nt">[[my_platform]]</span>
        <span class="nv">hosts </span><span class="o">=</span><span class="s"> myhostA, myhostB</span>
        <span class="nv">job runner </span><span class="o">=</span><span class="s"> qsub</span>  <span class="c1"># &lt;---!</span>
</pre></div>
</div>
<p>Then in your <code class="docutils literal notranslate"><span class="pre">flow.cylc</span></code> file you can use this platform:</p>
<div class="highlight-cylc notranslate"><div class="highlight"><pre><span></span><span class="c1"># Note, this workflow will fail at run time because we only changed the</span>
<span class="c1"># directive format, and PBS does not accept ``#QSUB`` directives in</span>
<span class="c1"># reality.</span>

<span class="nt">[scheduling]</span>
    <span class="nt">[[graph]]</span>
        <span class="nv">R1 </span><span class="o">=</span> <span class="c">&quot;</span><span class="kd">a</span><span class="c">&quot;</span>
<span class="nt">[runtime]</span>
    <span class="nt">[[root]]</span>
        <span class="nv">execution time limit </span><span class="o">=</span><span class="s"> PT1M</span>
        <span class="nv">platform </span><span class="o">=</span><span class="s"> my_platform</span>
        <span class="nt">[[[directives]]]</span>
            <span class="nv">-l nodes </span><span class="o">=</span><span class="s"> 1</span>
            <span class="nv">-q </span><span class="o">=</span><span class="s"> long</span>
            <span class="nv">-V </span><span class="o">=</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Don’t subclass this class as it provides optional interfaces which
you may not want to inherit.</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="cylc.flow.job_runner_handlers.documentation.ExampleHandler.FAIL_SIGNALS">
<span class="sig-name descname"><span class="pre">FAIL_SIGNALS</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.FAIL_SIGNALS" title="Link to this definition"></a></dt>
<dd><p>A tuple containing the names of signals to trap for reporting errors.</p>
<p>The default is <code class="docutils literal notranslate"><span class="pre">(&quot;EXIT&quot;,</span> <span class="pre">&quot;ERR&quot;,</span> <span class="pre">&quot;TERM&quot;,</span> <span class="pre">&quot;XCPU&quot;)</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">ERR</span></code> and <code class="docutils literal notranslate"><span class="pre">EXIT</span></code> are always recommended.
<code class="docutils literal notranslate"><span class="pre">EXIT</span></code> is used to report premature stopping of the job
script, and its trap is unset at the end of the script.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cylc.flow.job_runner_handlers.documentation.ExampleHandler.KILL_CMD_TMPL">
<span class="sig-name descname"><span class="pre">KILL_CMD_TMPL</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.KILL_CMD_TMPL" title="Link to this definition"></a></dt>
<dd><p>Command template for killing a job submission.</p>
<p>A Python string template for getting the job runner command to remove
and terminate a job ID. The command is formed using the logic:
<code class="docutils literal notranslate"><span class="pre">job_runner.KILL_CMD_TMPL</span> <span class="pre">%</span> <span class="pre">{&quot;job_id&quot;:</span> <span class="pre">job_id}</span></code>.</p>
<p>For info on Python string template format see:
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#printf-style-string-formatting">https://docs.python.org/3/library/stdtypes.html#printf-style-string-formatting</a></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cylc.flow.job_runner_handlers.documentation.ExampleHandler.POLL_CANT_CONNECT_ERR">
<span class="sig-name descname"><span class="pre">POLL_CANT_CONNECT_ERR</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.POLL_CANT_CONNECT_ERR" title="Link to this definition"></a></dt>
<dd><p>String for detecting communication errors in poll command output.</p>
<p>A string containing an error message. If this is defined, when a poll
command returns a non-zero return code and its STDERR contains this
string, then the poll result will not be trusted, because it is assumed
that the job runner is currently unavailable. Jobs submitted to the
job runner will be assumed OK until we are able to connect to the
job runner again.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cylc.flow.job_runner_handlers.documentation.ExampleHandler.POLL_CMD">
<span class="sig-name descname"><span class="pre">POLL_CMD</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.POLL_CMD" title="Link to this definition"></a></dt>
<dd><p>Command for checking job submissions.</p>
<p>A list of job IDs to poll will be provided as arguments.</p>
<p>The command should write valid submitted/running job IDs to stdout.</p>
<ul class="simple">
<li><p>To filter out invalid/failed jobs use
<a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.filter_poll_many_output" title="cylc.flow.job_runner_handlers.documentation.ExampleHandler.filter_poll_many_output"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ExampleHandler.filter_poll_many_output()</span></code></a>.</p></li>
<li><p>To build a more advanced command than is possible with this configuration
use <a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.get_poll_many_cmd" title="cylc.flow.job_runner_handlers.documentation.ExampleHandler.get_poll_many_cmd"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ExampleHandler.get_poll_many_cmd()</span></code></a>.</p></li>
</ul>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cylc.flow.job_runner_handlers.documentation.ExampleHandler.REC_ID_FROM_SUBMIT_ERR">
<span class="sig-name descname"><span class="pre">REC_ID_FROM_SUBMIT_ERR</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/re.html#re.Pattern" title="(in Python v3.13)"><span class="pre">re.Pattern</span></a></em><a class="headerlink" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.REC_ID_FROM_SUBMIT_ERR" title="Link to this definition"></a></dt>
<dd><p>Regular expression to extract job IDs from submission stderr.</p>
<p>See <a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.REC_ID_FROM_SUBMIT_OUT" title="cylc.flow.job_runner_handlers.documentation.ExampleHandler.REC_ID_FROM_SUBMIT_OUT"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ExampleHandler.REC_ID_FROM_SUBMIT_OUT</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cylc.flow.job_runner_handlers.documentation.ExampleHandler.REC_ID_FROM_SUBMIT_OUT">
<span class="sig-name descname"><span class="pre">REC_ID_FROM_SUBMIT_OUT</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/re.html#re.Pattern" title="(in Python v3.13)"><span class="pre">re.Pattern</span></a></em><a class="headerlink" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.REC_ID_FROM_SUBMIT_OUT" title="Link to this definition"></a></dt>
<dd><p>Regular expression to extract job IDs from submission stderr.</p>
<p>A regular expression (compiled) to extract the job “id” from the standard
output or standard error of the job submission command.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cylc.flow.job_runner_handlers.documentation.ExampleHandler.SHOULD_KILL_PROC_GROUP">
<span class="sig-name descname"><span class="pre">SHOULD_KILL_PROC_GROUP</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.SHOULD_KILL_PROC_GROUP" title="Link to this definition"></a></dt>
<dd><p>Kill jobs by killing the process group.</p>
<p>A boolean to indicate whether it is necessary to kill a job by sending
a signal to its Unix process group. This boolean also indicates that
a job submitted via this job runner will physically run on the same
host it is submitted to.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cylc.flow.job_runner_handlers.documentation.ExampleHandler.SHOULD_POLL_PROC_GROUP">
<span class="sig-name descname"><span class="pre">SHOULD_POLL_PROC_GROUP</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></em><a class="headerlink" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.SHOULD_POLL_PROC_GROUP" title="Link to this definition"></a></dt>
<dd><p>Poll jobs by PID.</p>
<p>A boolean to indicate whether it is necessary to poll a job by its PID
as well as the job ID.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cylc.flow.job_runner_handlers.documentation.ExampleHandler.SUBMIT_CMD_ENV">
<span class="sig-name descname"><span class="pre">SUBMIT_CMD_ENV</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.13)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.SUBMIT_CMD_ENV" title="Link to this definition"></a></dt>
<dd><p>Extra environment variables for the job runner command.</p>
<p>A Python dict (or an iterable that can be used to update a dict)
containing extra environment variables for getting the job runner
command to submit a job file.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cylc.flow.job_runner_handlers.documentation.ExampleHandler.SUBMIT_CMD_TMPL">
<span class="sig-name descname"><span class="pre">SUBMIT_CMD_TMPL</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></em><a class="headerlink" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.SUBMIT_CMD_TMPL" title="Link to this definition"></a></dt>
<dd><p>Command template for job submission.</p>
<p>A Python string template for getting the job runner command to submit a
job file. The command is formed using the logic:
<code class="docutils literal notranslate"><span class="pre">job_runner.SUBMIT_CMD_TMPL</span> <span class="pre">%</span> <span class="pre">{&quot;job&quot;:</span> <span class="pre">job_file_path}</span></code></p>
<p>For info on Python string template format see:
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#printf-style-string-formatting">https://docs.python.org/3/library/stdtypes.html#printf-style-string-formatting</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cylc.flow.job_runner_handlers.documentation.ExampleHandler.filter_poll_many_output">
<span class="sig-name descname"><span class="pre">filter_poll_many_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/cylc/flow/job_runner_handlers/documentation.html#ExampleHandler.filter_poll_many_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.filter_poll_many_output" title="Link to this definition"></a></dt>
<dd><p>Filter job ides out of poll output.</p>
<p>Called after the job runner’s poll command. The method should read
the output and return a list of job IDs that are still in the
job runner.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>out</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Job poll stdout.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of job IDs</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cylc.flow.job_runner_handlers.documentation.ExampleHandler.filter_submit_output">
<span class="sig-name descname"><span class="pre">filter_submit_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">out</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/cylc/flow/job_runner_handlers/documentation.html#ExampleHandler.filter_submit_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.filter_submit_output" title="Link to this definition"></a></dt>
<dd><p>Filter job submission stdout/err.</p>
<p>Filter the standard output and standard error of the job submission
command. This is useful if the job submission command returns
information that should just be ignored.</p>
<p>See also <a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.SUBMIT_CMD_TMPL" title="cylc.flow.job_runner_handlers.documentation.ExampleHandler.SUBMIT_CMD_TMPL"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ExampleHandler.SUBMIT_CMD_TMPL()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>out</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Job submit stdout.</p></li>
<li><p><strong>err</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – Job submit stderr.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(new_out, new_err)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><em>Tuple</em></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cylc.flow.job_runner_handlers.documentation.ExampleHandler.format_directives">
<span class="sig-name descname"><span class="pre">format_directives</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">job_conf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/cylc/flow/job_runner_handlers/documentation.html#ExampleHandler.format_directives"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.format_directives" title="Link to this definition"></a></dt>
<dd><p>Returns lines to be appended to the job script.</p>
<p>This method formats the job directives for a job file, if
job file directives are relevant for the job runner. The argument
“job_conf” is a dict containing the job configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>job_conf</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – The Cylc configuration.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>lines</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cylc.flow.job_runner_handlers.documentation.ExampleHandler.get_poll_many_cmd">
<span class="sig-name descname"><span class="pre">get_poll_many_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">job_id_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/cylc/flow/job_runner_handlers/documentation.html#ExampleHandler.get_poll_many_cmd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.get_poll_many_cmd" title="Link to this definition"></a></dt>
<dd><p>Return a command to poll the specified jobs.</p>
<p>If specified, this will be called instead of
<a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.POLL_CMD" title="cylc.flow.job_runner_handlers.documentation.ExampleHandler.POLL_CMD"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ExampleHandler.POLL_CMD</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>job_id_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a><em>]</em>) – The list of job IDs to poll.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>command e.g. [‘foo’, ‘–bar’, ‘baz’]</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cylc.flow.job_runner_handlers.documentation.ExampleHandler.get_submit_stdin">
<span class="sig-name descname"><span class="pre">get_submit_stdin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">job_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_opts</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/cylc/flow/job_runner_handlers/documentation.html#ExampleHandler.get_submit_stdin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.get_submit_stdin" title="Link to this definition"></a></dt>
<dd><p>Return a 2-element tuple <code class="docutils literal notranslate"><span class="pre">(proc_stdin_arg,</span> <span class="pre">proc_stdin_value)</span></code>.</p>
<ul class="simple">
<li><p>Element 1 is suitable for the <code class="docutils literal notranslate"><span class="pre">stdin=...</span></code> argument of
<code class="docutils literal notranslate"><span class="pre">subprocess.Popen</span></code> so it can be a file handle, <code class="docutils literal notranslate"><span class="pre">subprocess.PIPE</span></code>
or <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p>Element 2 is the string content to pipe to stdin of the submit
command (relevant only if <code class="docutils literal notranslate"><span class="pre">proc_stdin_arg</span></code> is <code class="docutils literal notranslate"><span class="pre">subprocess.PIPE</span></code>.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job_file_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The path to the job file for this submission.</p></li>
<li><p><strong>submit_opts</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – Job submission options.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(proc_stdin_arg, proc_stdin_value)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><em>Tuple</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cylc.flow.job_runner_handlers.documentation.ExampleHandler.get_vacation_signal">
<span class="sig-name descname"><span class="pre">get_vacation_signal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">job_conf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/cylc/flow/job_runner_handlers/documentation.html#ExampleHandler.get_vacation_signal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.get_vacation_signal" title="Link to this definition"></a></dt>
<dd><p>Return the vacation signal.</p>
<p>If relevant, return a string containing the name of the signal that
indicates the job has been vacated by the job runner.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>job_conf</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – The Cylc configuration.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>signal</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cylc.flow.job_runner_handlers.documentation.ExampleHandler.manip_job_id">
<span class="sig-name descname"><span class="pre">manip_job_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">job_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/cylc/flow/job_runner_handlers/documentation.html#ExampleHandler.manip_job_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.manip_job_id" title="Link to this definition"></a></dt>
<dd><p>Modify the job ID that is returned by the job submit command.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>job_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The job ID returned by the submit command.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>job_id</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cylc.flow.job_runner_handlers.documentation.ExampleHandler.submit">
<span class="sig-name descname"><span class="pre">submit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">job_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">submit_opts</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/cylc/flow/job_runner_handlers/documentation.html#ExampleHandler.submit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.submit" title="Link to this definition"></a></dt>
<dd><p>Submit a job.</p>
<p>Submit a job and return an instance of the Popen object for the
submission. This method is useful if the job submission requires logic
beyond just running a system or shell command.</p>
<p>See also <a class="reference internal" href="#cylc.flow.job_runner_handlers.documentation.ExampleHandler.SUBMIT_CMD_TMPL" title="cylc.flow.job_runner_handlers.documentation.ExampleHandler.SUBMIT_CMD_TMPL"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ExampleHandler.SUBMIT_CMD_TMPL</span></code></a>.</p>
<p>You must pass “env=submit_opts.get(‘env’)” to Popen - see
<a class="reference internal" href="../../user-guide/task-implementation/job-runner-handlers/cylc.flow.job_runner_handlers.background.html#module-cylc.flow.job_runner_handlers.background" title="cylc.flow.job_runner_handlers.background"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cylc.flow.job_runner_handlers.background</span></code></a>
for an example.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>job_file_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><em>str</em></a>) – The job file for this submission.</p></li>
<li><p><strong>submit_opts</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><em>dict</em></a>) – Job submission options.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>(ret_code, out, err)</p>
<dl class="simple">
<dt>ret_code:</dt><dd><p>Subprocess return code.</p>
</dd>
<dt>out:</dt><dd><p>Subprocess standard output.</p>
</dd>
<dt>err:</dt><dd><p>Subprocess standard error.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><em>Tuple</em></a>[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)">int</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)">str</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../install/built-in/cylc.flow.install_plugins.log_vc_info.html" class="btn btn-neutral float-left" title="cylc.flow.install_plugins.log_vc_info" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../xtriggers/index.html" class="btn btn-neutral float-right" title="Xtrigger Plugins" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2008-2025 NIWA &amp; British Crown (Met Office) &amp; Contributors.
      <span class="lastupdated">Last updated on Sep 01, 2025.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <!--
  element which gets populated with the list of available versions and
  formats for the documentation by versions.js
-->
<div
  class="rst-versions"
  data-toggle="rst-versions"
  id='versions-and-formats'
></div>




<script type="text/javascript">
    const CUR_FORMAT = "html";
    const CUR_VERSION = "8.5.1";
    // name of page (in URL), for singlepage builds this will be `index`
    const PAGE_NAME = "plugins/job-runners/index";
    // URL path to the base docs dir i.e. ROOT_DIR/version/format
    const ROOT_DIR = "../../../..";
</script>

<script
  type="text/javascript"
  src="../../../../versions.js"
></script><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
<!DOCTYPE html>


<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Cylc Broadcast &mdash; Cylc 8.0b3 documentation</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/styles.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/single.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <link rel="stylesheet" href="../../_static/css/slides-custom.css" type="text/css" />
    
    
    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/single.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/diff_selector.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/grid_table.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/hieroglyph_theme_addons.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/tutorial.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/addons.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '8.0b3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/js/diff_selector.js"></script>
    <script type="text/javascript" src="../../_static/js/minicylc.js"></script>
    <script type="text/javascript" src="../../_static/js/spoiler.js"></script>
    <script type="text/javascript" src="../../_static/js/addons.js"></script>
    <script type="text/javascript" src="../../_static/common.js"></script>
    
    <script type="text/javascript" src="../../_static/slides.js"></script>
    <script type="text/javascript" src="../../_static/sync.js"></script>
    <script type="text/javascript" src="../../_static/controller.js"></script>
    <script type="text/javascript" src="../../_static/init.js"></script>
    
    
    <link rel="shortcut icon" href="../../_static/cylc-favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="top" title="Cylc 8.0b3 documentation" href="../../index.html" />
    <link rel="up" title="Running Workflows" href="index.html" />
    <link rel="next" title="Workflow Run Databases" href="workflow-databases.html" />
    <link rel="prev" title="Handling Job Preemption" href="handling-job-preemption.html" /> 
  </head>
  <body>

<section
   id="slide_container"
   class='slides layout-regular'>


  
<article class="slide level-1" id="cylc-broadcast">

<h1>Cylc Broadcast<a class="headerlink" href="../../../html/user-guide/running-workflows/dynamic-behaviour.html#cylc-broadcast" title="View HTML">§</a></h1>

<p>The <code class="docutils literal notranslate"><span class="pre">cylc</span> <span class="pre">broadcast</span></code> command overrides <a class="reference internal" href="../../reference/config/workflow.html#flow.cylc[runtime]" title="flow.cylc[runtime]"><code class="xref cylc cylc-conf docutils literal notranslate"><span class="pre">[runtime]</span></code></a>
settings in a running workflow.</p>
<p>Broadcast can be used to communicate information to downstream tasks by
setting environment variables. Broadcasts can target all tasks, groups of
tasks, or specific tasks, at all cycle points or at specific cycle points.
See broadcast command help for details.</p>
<p>Broadcast settings targeted at a specific task ID or cycle point expire and
are forgotten as the workflow moves on. Un-targeted variables and those
targeted at a task name persist throughout the workflow run, even across
restarts, unless manually cleared using the broadcast command - and so
should be used sparingly.</p>




</article>
<article class="slide level-1" id="sub-workflows">

<h1>Sub-Workflows<a class="headerlink" href="../../../html/user-guide/running-workflows/dynamic-behaviour.html#sub-workflows" title="View HTML">§</a></h1>

<p>A single Cylc workflow can have multiple cycling sequences in the graph,
but cycles can’t be nested. If you need <em>cycles within cycles</em> - e.g. to
iterate over many files generated by each run of a cycling task - options are:</p>
<ul class="simple">
<li>Parameterize the sub-cycles<ul>
<li>This is easy but it makes more tasks-per-cycle, which is the primary
determinant of workflow size and scheduler efficiency (this has a much
smaller impact on Cylc 8, however)</li>
</ul>
</li>
<li>Use a separate sub-workflow inside a main-workflow task, to run the sub-cycle
tasks at each main-workflow cycle point<ul>
<li>This is very efficient, but monitoring and run-directory housekeeping are
be more complicated because it creates multiple workflows and run directories</li>
</ul>
</li>
</ul>
<p>Sub-workflows must be started with <code class="docutils literal notranslate"><span class="pre">--no-detach</span></code> so that the containing task
does not finish until the sub-workflow does, and they should be non-cycling
or have a <code class="docutils literal notranslate"><span class="pre">final</span> <span class="pre">cycle</span> <span class="pre">point</span></code> so they don’t keep on running indefinitely.</p>
<p>Sub-workflow names should normally incorporate the main-workflow cycle point
so that successive sub-workflows can run concurrently if necessary and do not
compete for the same workflow run directory. This generates a new sub-workflow
run directory for every main-workflow cycle point, so you may need housekeeping
tasks to extract outputs from each sub-workflow run and tidy up its directories.</p>




</article>

</section>

<section id="slide_notes">

</section>

  </body>
</html>